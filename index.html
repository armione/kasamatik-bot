<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kasamatik - Bahis Takip & Kasa YÃ¶netimi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-blue: #8db3f0;
            --success-green: #10b981;
            --danger-red: #ef4444;
            --glass-bg: rgba(255, 255, 255, 0.08);
            --glass-border: rgba(255, 255, 255, 0.15);
            --sidebar-width: 280px;
            --sidebar-collapsed: 70px;
        }
        
        * {
            font-family: 'Poppins', sans-serif;
        }
        
        .font-montserrat {
            font-family: 'Montserrat', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #292c30 0%, #000000 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }
        
        .glass-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
            border-color: rgba(139, 179, 240, 0.3);
        }
        
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            height: 100vh;
            width: var(--sidebar-width);
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(25px);
            border-right: 1px solid var(--glass-border);
            z-index: 1000;
            transition: all 0.3s ease;
        }
        
        .sidebar.collapsed {
            width: var(--sidebar-collapsed);
        }
        
        .sidebar.collapsed .sidebar-item {
            justify-content: center;
            padding: 16px 8px;
            margin: 8px 4px;
        }
        
        .sidebar.collapsed .sidebar-icon {
            margin-right: 0;
            font-size: 22px;
        }
        
        .sidebar-item {
            display: flex;
            align-items: center;
            padding: 16px 20px;
            margin: 8px 12px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .sidebar-item:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }
        
        .sidebar-item.active {
            background: linear-gradient(135deg, var(--primary-blue), #6366f1);
            color: white;
            box-shadow: 0 4px 15px rgba(139, 179, 240, 0.4);
        }
        
        .sidebar-icon {
            font-size: 20px;
            width: 24px;
            text-align: center;
            margin-right: 12px;
        }
        
        .sidebar-text {
            font-weight: 500;
            transition: opacity 0.3s ease;
        }
        
        .sidebar.collapsed .sidebar-text {
            opacity: 0;
            width: 0;
            margin: 0;
        }
        
        .main-content {
            margin-left: var(--sidebar-width);
            padding: 24px;
            transition: margin-left 0.3s ease;
            min-height: 100vh;
        }
        
        .main-content.expanded {
            margin-left: var(--sidebar-collapsed);
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 24px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }
        
        .stat-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 24px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-blue), #6366f1);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .stat-card:hover::before {
            opacity: 1;
        }
        
        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 16px 48px rgba(0, 0, 0, 0.4);
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #ffffff 0%, var(--primary-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .gradient-button {
            background: linear-gradient(135deg, var(--primary-blue) 0%, #6366f1 100%);
            box-shadow: 0 4px 15px rgba(139, 179, 240, 0.4);
            transition: all 0.3s ease;
            border: none;
            color: white;
            font-weight: 500;
        }
        
        .gradient-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 179, 240, 0.6);
        }
        
        .input-glass {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            border-radius: 8px;
        }
        
        .input-glass:focus {
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(139, 179, 240, 0.3);
            outline: none;
        }
        
        .form-card {
            grid-column: span 2;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 32px;
        }
        
        .history-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 24px;
            max-height: 600px;
            overflow-y: auto;
        }
        
        .bet-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            transition: all 0.3s ease;
        }
        
        .bet-item:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateX(4px);
        }
        
        .status-won {
            background: linear-gradient(135deg, var(--success-green), #059669);
            color: white;
        }
        
        .status-lost {
            background: linear-gradient(135deg, var(--danger-red), #dc2626);
            color: white;
        }
        
        .status-pending {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
        }
        
        .mobile-menu-toggle {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1001;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 12px;
            color: white;
            cursor: pointer;
        }
        
        .floating-action {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-blue), #6366f1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            cursor: pointer;
            box-shadow: 0 8px 32px rgba(139, 179, 240, 0.4);
            transition: all 0.3s ease;
            z-index: 999;
        }
        
        .floating-action:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 40px rgba(139, 179, 240, 0.6);
        }
        
        .page-section {
            display: none;
        }
        
        .page-section.active {
            display: block;
        }
        
        .image-upload-area {
            border: 2px dashed rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
            border-radius: 12px;
        }
        
        .image-upload-area.dragover {
            border-color: var(--primary-blue);
            background: rgba(139, 179, 240, 0.1);
        }
        
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                width: 280px;
            }
            
            .sidebar.mobile-open {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .main-content.expanded {
                margin-left: 0;
            }
            
            .mobile-menu-toggle {
                display: block;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 16px;
            }
            
            .form-card {
                grid-column: span 1;
                padding: 20px;
            }
            
            .floating-action {
                bottom: 20px;
                right: 20px;
                width: 56px;
                height: 56px;
                font-size: 20px;
            }
        }
        
        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .main-content {
                padding: 16px;
            }
        }
        
        .notification {
            animation: slideInRight 0.5s ease-out;
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            margin-top: 32px;
            flex-wrap: wrap;
        }
        
        .pagination-btn {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            color: rgba(255, 255, 255, 0.7);
            padding: 12px 16px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            min-width: 44px;
            text-align: center;
        }
        
        .pagination-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            transform: translateY(-1px);
        }
        
        .pagination-btn.active {
            background: linear-gradient(135deg, var(--primary-blue), #6366f1);
            color: white;
            border-color: var(--primary-blue);
            box-shadow: 0 4px 15px rgba(139, 179, 240, 0.4);
        }
        
        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .pagination-btn:disabled:hover {
            background: var(--glass-bg);
            color: rgba(255, 255, 255, 0.7);
            transform: none;
        }
        
        .bet-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 16px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .bet-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .bet-card.won::before {
            background: linear-gradient(90deg, var(--success-green), #059669);
            opacity: 1;
        }
        
        .bet-card.lost::before {
            background: linear-gradient(90deg, var(--danger-red), #dc2626);
            opacity: 1;
        }
        
        .bet-card.pending::before {
            background: linear-gradient(90deg, #f59e0b, #d97706);
            opacity: 1;
        }
        
        .bet-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
            border-color: rgba(139, 179, 240, 0.3);
        }
        
        .slot-fields {
            display: none;
        }
        
        .sport-fields {
            display: block;
        }
    </style>
</head>
<body class="text-white">
    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" id="mobile-toggle">
        <span class="text-xl">â˜°</span>
    </button>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="p-6 border-b border-white border-opacity-10">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-xl">
                    ğŸ¯
                </div>
                <div class="sidebar-text">
                    <h2 class="font-montserrat font-bold text-lg gradient-text">Kasamatik</h2>
                    <p class="text-xs text-gray-400">AkÄ±llÄ± Bahis Takibi</p>
                </div>
            </div>
        </div>
        
        <nav class="mt-6">
            <div class="sidebar-item active" data-section="dashboard">
                <span class="sidebar-icon">ğŸ </span>
                <span class="sidebar-text">Ana Panel</span>
            </div>
            <div class="sidebar-item" data-section="new-bet">
                <span class="sidebar-icon">â•</span>
                <span class="sidebar-text">Yeni KayÄ±t</span>
            </div>
            <div class="sidebar-item" data-section="history">
                <span class="sidebar-icon">ğŸ“‹</span>
                <span class="sidebar-text">GeÃ§miÅŸ</span>
            </div>
            <div class="sidebar-item" data-section="statistics">
                <span class="sidebar-icon">ğŸ“Š</span>
                <span class="sidebar-text">Ä°statistikler</span>
            </div>
            <div class="sidebar-item" data-section="guide">
                <span class="sidebar-icon">ğŸ“–</span>
                <span class="sidebar-text">Rehber</span>
            </div>
            <div class="sidebar-item" data-section="settings">
                <span class="sidebar-icon">âš™ï¸</span>
                <span class="sidebar-text">Ayarlar</span>
            </div>
        </nav>
        
        <div class="absolute bottom-6 left-6 right-6">
            <button id="sidebar-toggle" class="w-full sidebar-item justify-center">
                <span class="sidebar-icon">â†”ï¸</span>
                <span class="sidebar-text">Daralt</span>
            </button>
            <div class="text-center mt-2">
                <p class="text-xs text-gray-500 sidebar-text">v1.4</p>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="main-content">
        <!-- Notification Area -->
        <div id="notifications" class="fixed top-4 right-4 z-50 space-y-2"></div>

        <!-- Dashboard Section -->
        <div id="dashboard" class="page-section active">
            <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 rounded-full bg-gradient-to-r from-yellow-400 to-orange-500 flex items-center justify-center text-xl">
                                ğŸ’°
                            </div>
                            <div>
                                <h3 class="text-gray-300 font-medium text-sm">Toplam Kasa</h3>
                                <p class="text-2xl font-montserrat font-bold text-white" id="total-bankroll">0 â‚º</p>
                            </div>
                        </div>
                    </div>
                    <div class="text-xs text-gray-400">Mevcut bakiye</div>
                </div>

                <div class="stat-card">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 flex items-center justify-center text-xl">
                                ğŸ“ˆ
                            </div>
                            <div>
                                <h3 class="text-gray-300 font-medium text-sm">Toplam Kar</h3>
                                <p class="text-2xl font-montserrat font-bold text-green-400" id="total-profit">0 â‚º</p>
                            </div>
                        </div>
                    </div>
                    <div class="text-xs text-gray-400">KazanÄ±lan miktar</div>
                </div>

                <div class="stat-card">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 rounded-full bg-gradient-to-r from-red-400 to-red-600 flex items-center justify-center text-xl">
                                ğŸ“‰
                            </div>
                            <div>
                                <h3 class="text-gray-300 font-medium text-sm">Toplam Zarar</h3>
                                <p class="text-2xl font-montserrat font-bold text-red-400" id="total-loss">0 â‚º</p>
                            </div>
                        </div>
                    </div>
                    <div class="text-xs text-gray-400">Kaybedilen miktar</div>
                </div>

                <div class="stat-card">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center text-xl">
                                ğŸ²
                            </div>
                            <div>
                                <h3 class="text-gray-300 font-medium text-sm">Toplam Bahis</h3>
                                <p class="text-2xl font-montserrat font-bold text-white" id="total-bets">0</p>
                            </div>
                        </div>
                    </div>
                    <div class="text-xs text-gray-400">Bahis sayÄ±sÄ±</div>
                </div>
            </div>

            <!-- Quick Actions Grid -->
            <div class="dashboard-grid">
                <div class="glass-card rounded-2xl p-6">
                    <h3 class="text-lg font-montserrat font-bold gradient-text mb-4">âš¡ HÄ±zlÄ± Ä°ÅŸlemler</h3>
                    <div class="space-y-3">
                        <button id="quick-add-btn" class="gradient-button w-full py-3 rounded-lg text-white font-medium">
                            ğŸš€ HÄ±zlÄ± Bahis Ekle
                        </button>
                        <div class="flex space-x-2">
                            <input type="number" id="bankroll-update" placeholder="Miktar (â‚º)" step="0.01"
                                   class="input-glass flex-1 p-3 rounded-lg text-gray-800">
                            <button id="bankroll-update-btn" class="gradient-button px-4 py-3 rounded-lg text-white">
                                ğŸ’°
                            </button>
                        </div>
                    </div>
                </div>

                <div class="glass-card rounded-2xl p-6">
                    <h3 class="text-lg font-montserrat font-bold gradient-text mb-4">ğŸ“Š Ã–zet Ä°statistik</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300 text-sm">Kazanma OranÄ±:</span>
                            <span class="text-green-400 font-bold" id="win-rate">0%</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300 text-sm">Bekleyen Bahis:</span>
                            <span class="text-yellow-400 font-bold" id="pending-bets">0</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-300 text-sm">Bu Ay Kar/Zarar:</span>
                            <span class="text-blue-400 font-bold" id="monthly-profit">0 â‚º</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Bets -->
            <div class="glass-card rounded-2xl p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-montserrat font-bold gradient-text">ğŸ“‹ Son Bahisler</h3>
                    <button id="show-history-btn" class="text-blue-400 hover:text-blue-300 text-sm">
                        TÃ¼mÃ¼nÃ¼ GÃ¶r â†’
                    </button>
                </div>
                <div id="recent-bets" class="space-y-3">
                    <!-- Recent bets will be rendered here -->
                </div>
            </div>
        </div>

        <!-- New Bet Section -->
        <div id="new-bet" class="page-section">
            <div class="form-card">
                <h2 class="text-2xl font-montserrat font-bold gradient-text mb-6">
                    â• Yeni Bahis KaydÄ±
                </h2>
                
                <form id="bet-form" class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-gray-300 text-sm font-medium mb-2">Platform</label>
                            <div class="flex space-x-2">
                                <select id="platform" required class="input-glass flex-1 p-3 rounded-lg text-gray-800">
                                    <option value="">Platform SeÃ§in</option>
                                </select>
                                <button type="button" id="platform-manager-btn" class="gradient-button px-4 py-3 rounded-lg text-white">
                                    âš™ï¸
                                </button>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-gray-300 text-sm font-medium mb-2">Bahis TÃ¼rÃ¼</label>
                            <select id="bet-type" required class="input-glass w-full p-3 rounded-lg text-gray-800">
                                <option value="">TÃ¼r SeÃ§in</option>
                                <option value="Spor Bahis">Spor Bahis</option>
                                <option value="CanlÄ± Bahis">CanlÄ± Bahis</option>
                                <option value="Casino">Casino</option>
                                <option value="Slot">Slot</option>
                            </select>
                        </div>
                    </div>

                    <!-- Sport Betting Fields -->
                    <div id="sport-fields" class="sport-fields space-y-6">
                        <div>
                            <label class="block text-gray-300 text-sm font-medium mb-2">Bahis AÃ§Ä±klamasÄ±</label>
                            <input type="text" id="description" placeholder="Ã–rn: Galatasaray - FenerbahÃ§e (1)" 
                                   class="input-glass w-full p-3 rounded-lg text-gray-800">
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div>
                                <label class="block text-gray-300 text-sm font-medium mb-2">Bahis MiktarÄ± (â‚º)</label>
                                <input type="number" id="bet-amount" min="0" step="0.01" placeholder="100"
                                       class="input-glass w-full p-3 rounded-lg text-gray-800">
                            </div>
                            
                            <div>
                                <label class="block text-gray-300 text-sm font-medium mb-2">Oran</label>
                                <input type="number" id="odds" min="1" step="0.01" placeholder="2.50"
                                       class="input-glass w-full p-3 rounded-lg text-gray-800">
                            </div>
                            
                            <div>
                                <label class="block text-gray-300 text-sm font-medium mb-2">Tarih</label>
                                <input type="date" id="bet-date" 
                                       class="input-glass w-full p-3 rounded-lg text-gray-800">
                            </div>
                        </div>
                    </div>

                    <!-- Slot Betting Fields -->
                    <div id="slot-fields" class="slot-fields space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-gray-300 text-sm font-medium mb-2">Slot TÃ¼rÃ¼</label>
                                <select id="slot-type" class="input-glass w-full p-3 rounded-lg text-gray-800">
                                    <option value="Normal Slot">Normal Slot</option>
                                    <option value="Freespin">Freespin</option>
                                    <option value="Happy Hour">Happy Hour</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-gray-300 text-sm font-medium mb-2">Slot Oyunu</label>
                                <input type="text" id="slot-game" placeholder="Ã–rn: Sweet Bonanza" 
                                       class="input-glass w-full p-3 rounded-lg text-gray-800">
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div>
                                <label class="block text-gray-300 text-sm font-medium mb-2">Spin SayÄ±sÄ±</label>
                                <input type="number" id="spin-count" min="1" placeholder="100"
                                       class="input-glass w-full p-3 rounded-lg text-gray-800">
                            </div>
                            
                            <div>
                                <label class="block text-gray-300 text-sm font-medium mb-2">Spin BaÅŸÄ±na Bahis (â‚º)</label>
                                <input type="number" id="spin-bet" min="0" step="0.01" placeholder="1.00"
                                       class="input-glass w-full p-3 rounded-lg text-gray-800">
                            </div>
                            
                            <div>
                                <label class="block text-gray-300 text-sm font-medium mb-2">Tarih</label>
                                <input type="date" id="slot-date" 
                                       class="input-glass w-full p-3 rounded-lg text-gray-800">
                            </div>
                        </div>

                        <div id="freespin-details" class="hidden">
                            <label class="block text-gray-300 text-sm font-medium mb-2">Freespin DetayÄ±</label>
                            <input type="text" id="freespin-detail" placeholder="Ã–rn: 100 freespin x20 Ã§arpan" 
                                   class="input-glass w-full p-3 rounded-lg text-gray-800">
                        </div>

                        <div id="happy-hour-details" class="hidden">
                            <label class="block text-gray-300 text-sm font-medium mb-2">Happy Hour Bonus DetayÄ±</label>
                            <input type="text" id="happy-hour-detail" placeholder="Ã–rn: %50 bonus + 50 freespin" 
                                   class="input-glass w-full p-3 rounded-lg text-gray-800">
                        </div>
                    </div>

                    <!-- Image Upload Area -->
                    <div class="image-upload-area rounded-lg p-6 text-center" id="image-upload-area">
                        <div id="upload-area" class="space-y-3">
                            <div class="text-4xl">ğŸ“¸</div>
                            <p class="text-gray-300">Bahis kuponu resmini buraya sÃ¼rÃ¼kleyin veya Ctrl+V ile yapÄ±ÅŸtÄ±rÄ±n</p>
                            <input type="file" id="image-input" accept="image/*" class="hidden">
                            <button type="button" id="image-select-btn" class="gradient-button px-6 py-3 rounded-lg text-white">
                                ğŸ“ Dosya SeÃ§
                            </button>
                        </div>
                        <div id="image-preview" class="hidden mt-4">
                            <img id="preview-img" class="max-w-full max-h-48 mx-auto rounded-lg">
                            <button type="button" id="remove-image-btn" class="mt-3 px-4 py-2 bg-red-600 text-white rounded-lg">
                                ğŸ—‘ï¸ Resmi KaldÄ±r
                            </button>
                        </div>
                    </div>

                    <div class="flex justify-end space-x-4 pt-6">
                        <button type="button" id="reset-form-btn" class="px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors">
                            Temizle
                        </button>
                        <button type="submit" class="gradient-button px-8 py-3 rounded-lg text-white font-medium">
                            Bahis Ekle
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- History Section -->
        <div id="history" class="page-section">
            <div class="mb-8">
                <div class="flex flex-col md:flex-row md:justify-between md:items-center mb-6 space-y-4 md:space-y-0">
                    <div>
                        <h2 class="text-3xl font-montserrat font-bold gradient-text mb-2">ğŸ“‹ Bahis GeÃ§miÅŸi</h2>
                        <p class="text-gray-400 text-sm">TÃ¼m bahis kayÄ±tlarÄ±nÄ±zÄ± gÃ¶rÃ¼ntÃ¼leyin ve yÃ¶netin</p>
                    </div>
                    <div class="flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-3">
                        <select id="status-filter" class="input-glass px-4 py-3 rounded-lg text-gray-800">
                            <option value="all">ğŸ” TÃ¼mÃ¼</option>
                            <option value="pending">â³ Bekleyen</option>
                            <option value="won">âœ… Kazanan</option>
                            <option value="lost">âŒ Kaybeden</option>
                        </select>
                        <button id="clear-all-btn" class="px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium">
                            ğŸ—‘ï¸ TÃ¼m Verileri Temizle
                        </button>
                    </div>
                </div>
                
                <!-- Stats Summary for History -->
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                    <div class="glass-card rounded-xl p-4 text-center">
                        <div class="text-2xl mb-1" id="history-total-bets">0</div>
                        <div class="text-xs text-gray-400">Toplam Bahis</div>
                    </div>
                    <div class="glass-card rounded-xl p-4 text-center">
                        <div class="text-2xl mb-1 text-green-400" id="history-won-bets">0</div>
                        <div class="text-xs text-gray-400">Kazanan</div>
                    </div>
                    <div class="glass-card rounded-xl p-4 text-center">
                        <div class="text-2xl mb-1 text-red-400" id="history-lost-bets">0</div>
                        <div class="text-xs text-gray-400">Kaybeden</div>
                    </div>
                    <div class="glass-card rounded-xl p-4 text-center">
                        <div class="text-2xl mb-1 text-yellow-400" id="history-pending-bets">0</div>
                        <div class="text-xs text-gray-400">Bekleyen</div>
                    </div>
                </div>
                
                <div id="bet-history">
                    <!-- Bet history cards will be rendered here -->
                </div>
                
                <!-- Pagination -->
                <div id="pagination-container" class="pagination">
                    <!-- Pagination buttons will be rendered here -->
                </div>
            </div>
        </div>

        <!-- Statistics Section -->
        <div id="statistics" class="page-section">
            <div class="mb-8">
                <h2 class="text-3xl font-montserrat font-bold gradient-text mb-6">ğŸ“Š Ä°statistikler</h2>
                
                <!-- Stats Grid -->
                <div class="stats-grid mb-8">
                    <div class="stat-card">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-12 h-12 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center text-xl">
                                    ğŸ¯
                                </div>
                                <div>
                                    <h3 class="text-gray-300 font-medium text-sm">Toplam Bahis</h3>
                                    <p class="text-2xl font-montserrat font-bold text-white" id="stats-total-bets">0</p>
                                </div>
                            </div>
                        </div>
                        <div class="text-xs text-gray-400">Kasa iÅŸlemleri hariÃ§ toplam bahis sayÄ±sÄ±</div>
                        <div class="mt-2 text-xs text-blue-300" id="stats-bet-breakdown">Spor: 0 | Slot: 0 | Casino: 0</div>
                    </div>

                    <div class="stat-card">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-12 h-12 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 flex items-center justify-center text-xl">
                                    âœ…
                                </div>
                                <div>
                                    <h3 class="text-gray-300 font-medium text-sm">Kazanma OranÄ±</h3>
                                    <p class="text-2xl font-montserrat font-bold text-green-400" id="stats-win-rate">0%</p>
                                </div>
                            </div>
                        </div>
                        <div class="text-xs text-gray-400">SonuÃ§lanan bahislerdeki baÅŸarÄ± oranÄ±</div>
                        <div class="mt-2 text-xs text-green-300" id="stats-win-breakdown">Kazanan: 0 | Kaybeden: 0</div>
                    </div>

                    <div class="stat-card">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-12 h-12 rounded-full bg-gradient-to-r from-yellow-400 to-orange-500 flex items-center justify-center text-xl">
                                    ğŸ“Š
                                </div>
                                <div>
                                    <h3 class="text-gray-300 font-medium text-sm">Ortalama Oran</h3>
                                    <p class="text-2xl font-montserrat font-bold text-yellow-400" id="stats-avg-odds">0.00</p>
                                </div>
                            </div>
                        </div>
                        <div class="text-xs text-gray-400">Spor bahislerinin ortalama oranÄ±</div>
                        <div class="mt-2 text-xs text-yellow-300" id="stats-odds-range">En dÃ¼ÅŸÃ¼k: 0.00 | En yÃ¼ksek: 0.00</div>
                    </div>

                    <div class="stat-card">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-12 h-12 rounded-full bg-gradient-to-r from-purple-400 to-pink-500 flex items-center justify-center text-xl">
                                    ğŸ’¹
                                </div>
                                <div>
                                    <h3 class="text-gray-300 font-medium text-sm">ROI</h3>
                                    <p class="text-2xl font-montserrat font-bold" id="stats-roi">0%</p>
                                </div>
                            </div>
                        </div>
                        <div class="text-xs text-gray-400">YatÄ±rÄ±m getirisi (Net kar / Toplam yatÄ±rÄ±m)</div>
                        <div class="mt-2 text-xs" id="stats-roi-breakdown">YatÄ±rÄ±m: 0â‚º | Net kar: 0â‚º</div>
                    </div>

                    <div class="stat-card">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-12 h-12 rounded-full bg-gradient-to-r from-indigo-400 to-blue-500 flex items-center justify-center text-xl">
                                    ğŸ“ˆ
                                </div>
                                <div>
                                    <h3 class="text-gray-300 font-medium text-sm">Ortalama Bahis</h3>
                                    <p class="text-2xl font-montserrat font-bold text-blue-400" id="stats-avg-bet">0â‚º</p>
                                </div>
                            </div>
                        </div>
                        <div class="text-xs text-gray-400">Bahis baÅŸÄ±na ortalama yatÄ±rÄ±m miktarÄ±</div>
                        <div class="mt-2 text-xs text-blue-300" id="stats-bet-range">En dÃ¼ÅŸÃ¼k: 0â‚º | En yÃ¼ksek: 0â‚º</div>
                    </div>

                    <div class="stat-card">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-12 h-12 rounded-full bg-gradient-to-r from-teal-400 to-cyan-500 flex items-center justify-center text-xl">
                                    ğŸ†
                                </div>
                                <div>
                                    <h3 class="text-gray-300 font-medium text-sm">En Ä°yi Platform</h3>
                                    <p class="text-lg font-montserrat font-bold text-teal-400" id="stats-best-platform">-</p>
                                </div>
                            </div>
                        </div>
                        <div class="text-xs text-gray-400">En Ã§ok kar getiren platform</div>
                        <div class="mt-2 text-xs text-teal-300" id="stats-platform-profit">Kar: 0â‚º</div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="dashboard-grid">
                    <div class="glass-card rounded-2xl p-6">
                        <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">ğŸ“ˆ Kar/Zarar Trendi</h3>
                        <div style="height: 300px;">
                            <canvas id="profitChart"></canvas>
                        </div>
                    </div>

                    <div class="glass-card rounded-2xl p-6">
                        <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">ğŸ¢ Platform DaÄŸÄ±lÄ±mÄ±</h3>
                        <div style="height: 300px;">
                            <canvas id="platformChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Guide Section -->
        <div id="guide" class="page-section">
            <div class="mb-8">
                <h2 class="text-3xl font-montserrat font-bold gradient-text mb-6">ğŸ“– KullanÄ±m Rehberi</h2>
                
                <!-- What's New Section -->
                <div class="glass-card rounded-2xl p-6 mb-8">
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-12 h-12 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 flex items-center justify-center text-xl">
                            ğŸ†•
                        </div>
                        <div>
                            <h3 class="text-xl font-montserrat font-bold gradient-text">Yeni GÃ¼ncelleme v1.4</h3>
                            <p class="text-gray-400 text-sm">Son eklenen Ã¶zellikler</p>
                        </div>
                    </div>
                    <div class="space-y-3">
                        <div class="flex items-start space-x-3">
                            <span class="text-green-400 text-lg">âœ¨</span>
                            <div>
                                <h4 class="text-white font-medium">GeliÅŸmiÅŸ Ä°statistikler</h4>
                                <p class="text-gray-400 text-sm">ROI hesaplama, detaylÄ± grafikler ve platform analizi</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <span class="text-blue-400 text-lg">ğŸ¯</span>
                            <div>
                                <h4 class="text-white font-medium">HÄ±zlÄ± Bahis Ekleme</h4>
                                <p class="text-gray-400 text-sm">Floating buton ile anÄ±nda bahis ekleme</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <span class="text-purple-400 text-lg">ğŸ“±</span>
                            <div>
                                <h4 class="text-white font-medium">Mobil Uyumluluk</h4>
                                <p class="text-gray-400 text-sm">TÃ¼m cihazlarda mÃ¼kemmel gÃ¶rÃ¼nÃ¼m</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <span class="text-yellow-400 text-lg">ğŸ²</span>
                            <div>
                                <h4 class="text-white font-medium">Slot Bahis DesteÄŸi</h4>
                                <p class="text-gray-400 text-sm">Slot oyunlarÄ± iÃ§in Ã¶zel kayÄ±t sistemi</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Start Guide -->
                <div class="dashboard-grid">
                    <div class="glass-card rounded-2xl p-6">
                        <div class="flex items-center space-x-3 mb-4">
                            <div class="w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-lg">
                                ğŸš€
                            </div>
                            <h3 class="text-lg font-montserrat font-bold gradient-text">HÄ±zlÄ± BaÅŸlangÄ±Ã§</h3>
                        </div>
                        <div class="space-y-3 text-sm">
                            <div class="flex items-start space-x-2">
                                <span class="text-blue-400 font-bold">1.</span>
                                <p class="text-gray-300">Ä°lk kasanÄ±zÄ± "ğŸ’° Kasa GÃ¼ncelleme" ile ekleyin</p>
                            </div>
                            <div class="flex items-start space-x-2">
                                <span class="text-blue-400 font-bold">2.</span>
                                <p class="text-gray-300">"â• Yeni KayÄ±t" ile ilk bahisinizi ekleyin</p>
                            </div>
                            <div class="flex items-start space-x-2">
                                <span class="text-blue-400 font-bold">3.</span>
                                <p class="text-gray-300">Bahis sonuÃ§larÄ±nÄ± "âœ… KazandÄ±" veya "âŒ Kaybetti" ile iÅŸaretleyin</p>
                            </div>
                            <div class="flex items-start space-x-2">
                                <span class="text-blue-400 font-bold">4.</span>
                                <p class="text-gray-300">"ğŸ“Š Ä°statistikler" ile performansÄ±nÄ±zÄ± takip edin</p>
                            </div>
                        </div>
                    </div>

                    <div class="glass-card rounded-2xl p-6">
                        <div class="flex items-center space-x-3 mb-4">
                            <div class="w-10 h-10 rounded-full bg-gradient-to-r from-green-500 to-emerald-600 flex items-center justify-center text-lg">
                                ğŸ’¡
                            </div>
                            <h3 class="text-lg font-montserrat font-bold gradient-text">Pro Ä°puÃ§larÄ±</h3>
                        </div>
                        <div class="space-y-3 text-sm">
                            <div class="flex items-start space-x-2">
                                <span class="text-green-400">ğŸ’°</span>
                                <p class="text-gray-300">KasanÄ±zÄ± dÃ¼zenli olarak gÃ¼ncelleyin</p>
                            </div>
                            <div class="flex items-start space-x-2">
                                <span class="text-green-400">ğŸ“¸</span>
                                <p class="text-gray-300">Kupon resimlerini Ctrl+V ile hÄ±zlÄ±ca yapÄ±ÅŸtÄ±rÄ±n</p>
                            </div>
                            <div class="flex items-start space-x-2">
                                <span class="text-green-400">ğŸ¯</span>
                                <p class="text-gray-300">Floating butonu kullanarak hÄ±zlÄ± bahis ekleyin</p>
                            </div>
                            <div class="flex items-start space-x-2">
                                <span class="text-green-400">ğŸ“Š</span>
                                <p class="text-gray-300">ROI'nizi takip ederek stratejinizi geliÅŸtirin</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Feature Explanations -->
                <div class="space-y-6">
                    <div class="glass-card rounded-2xl p-6">
                        <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">ğŸ  Ana Panel Ã–zellikleri</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                            <div class="space-y-2">
                                <h4 class="text-white font-medium">ğŸ“Š Ä°statistik KartlarÄ±</h4>
                                <p class="text-gray-400">Toplam kasa, kar, zarar ve bahis sayÄ±nÄ±zÄ± gÃ¶rÃ¼n</p>
                            </div>
                            <div class="space-y-2">
                                <h4 class="text-white font-medium">âš¡ HÄ±zlÄ± Ä°ÅŸlemler</h4>
                                <p class="text-gray-400">AnÄ±nda bahis ekleme ve kasa gÃ¼ncelleme</p>
                            </div>
                            <div class="space-y-2">
                                <h4 class="text-white font-medium">ğŸ“‹ Son Bahisler</h4>
                                <p class="text-gray-400">En son eklediÄŸiniz 5 bahisi gÃ¶rÃ¼ntÃ¼leyin</p>
                            </div>
                            <div class="space-y-2">
                                <h4 class="text-white font-medium">ğŸ“ˆ Ã–zet Ä°statistik</h4>
                                <p class="text-gray-400">Kazanma oranÄ± ve aylÄ±k kar/zarar bilgisi</p>
                            </div>
                        </div>
                    </div>

                    <div class="glass-card rounded-2xl p-6">
                        <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">â• Bahis Ekleme Rehberi</h3>
                        <div class="space-y-4 text-sm">
                            <div>
                                <h4 class="text-white font-medium mb-2">ğŸ¯ Spor Bahisleri</h4>
                                <p class="text-gray-400 mb-2">Platform, aÃ§Ä±klama, miktar, oran ve tarih bilgilerini girin</p>
                                <div class="bg-gray-800 bg-opacity-30 rounded p-2 text-xs">
                                    <strong>Ã–rnek:</strong> Galatasaray - FenerbahÃ§e (1) | 100â‚º | 2.50 oran
                                </div>
                            </div>
                            <div>
                                <h4 class="text-white font-medium mb-2">ğŸ² Slot OyunlarÄ±</h4>
                                <p class="text-gray-400 mb-2">Slot tÃ¼rÃ¼, oyun adÄ±, spin sayÄ±sÄ± ve spin baÅŸÄ±na bahis miktarÄ±nÄ± girin</p>
                                <div class="bg-gray-800 bg-opacity-30 rounded p-2 text-xs">
                                    <strong>Ã–rnek:</strong> Sweet Bonanza | 100 spin | 1â‚º/spin = 100â‚º toplam
                                </div>
                            </div>
                            <div>
                                <h4 class="text-white font-medium mb-2">ğŸ“¸ Kupon Resimleri</h4>
                                <p class="text-gray-400">Kupon resimlerini sÃ¼rÃ¼kle-bÄ±rak veya Ctrl+V ile ekleyin</p>
                            </div>
                        </div>
                    </div>

                    <div class="glass-card rounded-2xl p-6">
                        <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">ğŸ“Š Ä°statistik AÃ§Ä±klamalarÄ±</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                            <div class="space-y-3">
                                <div>
                                    <h4 class="text-white font-medium">ğŸ’° Toplam Kasa</h4>
                                    <p class="text-gray-400">Mevcut bakiyeniz (kar - zarar)</p>
                                </div>
                                <div>
                                    <h4 class="text-white font-medium">ğŸ“ˆ Kazanma OranÄ±</h4>
                                    <p class="text-gray-400">Kazanan bahis / Toplam bahis Ã— 100</p>
                                </div>
                                <div>
                                    <h4 class="text-white font-medium">ğŸ’¹ ROI (YatÄ±rÄ±m Getirisi)</h4>
                                    <p class="text-gray-400">Net kar / Toplam yatÄ±rÄ±m Ã— 100</p>
                                </div>
                            </div>
                            <div class="space-y-3">
                                <div>
                                    <h4 class="text-white font-medium">ğŸ“Š Ortalama Oran</h4>
                                    <p class="text-gray-400">TÃ¼m bahislerin ortalama oranÄ±</p>
                                </div>
                                <div>
                                    <h4 class="text-white font-medium">ğŸ“ˆ Kar/Zarar Trendi</h4>
                                    <p class="text-gray-400">Zaman iÃ§indeki performans grafiÄŸi</p>
                                </div>
                                <div>
                                    <h4 class="text-white font-medium">ğŸ¢ Platform DaÄŸÄ±lÄ±mÄ±</h4>
                                    <p class="text-gray-400">Hangi platformda kaÃ§ bahis oynadÄ±ÄŸÄ±nÄ±z</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="glass-card rounded-2xl p-6">
                        <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">âš™ï¸ GeliÅŸmiÅŸ Ã–zellikler</h3>
                        <div class="space-y-4 text-sm">
                            <div>
                                <h4 class="text-white font-medium mb-2">ğŸ¢ Platform YÃ¶netimi</h4>
                                <p class="text-gray-400">Kendi platformlarÄ±nÄ±zÄ± ekleyin ve yÃ¶netin</p>
                            </div>
                            <div>
                                <h4 class="text-white font-medium mb-2">ğŸ“¤ğŸ“¥ Veri Yedekleme</h4>
                                <p class="text-gray-400">Verilerinizi JSON formatÄ±nda dÄ±ÅŸa/iÃ§e aktarÄ±n</p>
                            </div>
                            <div>
                                <h4 class="text-white font-medium mb-2">ğŸ” Filtreleme</h4>
                                <p class="text-gray-400">Bahisleri duruma gÃ¶re filtreleyin (Bekleyen, Kazanan, Kaybeden)</p>
                            </div>
                            <div>
                                <h4 class="text-white font-medium mb-2">ğŸ“± Mobil Uyumluluk</h4>
                                <p class="text-gray-400">TÃ¼m cihazlarda sorunsuz Ã§alÄ±ÅŸÄ±r</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Section -->
        <div id="settings" class="page-section">
            <div class="dashboard-grid">
                <div class="glass-card rounded-2xl p-6">
                    <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">ğŸ¢ Platform YÃ¶netimi</h3>
                    <div class="space-y-4">
                        <div class="flex space-x-2">
                            <input type="text" id="new-platform-name" placeholder="Platform adÄ±" 
                                   class="input-glass flex-1 p-3 rounded-lg text-gray-800">
                            <button id="add-platform-btn" class="gradient-button px-4 py-3 rounded-lg text-white">
                                â•
                            </button>
                        </div>
                        <div id="custom-platforms-list" class="space-y-2 max-h-48 overflow-y-auto">
                            <!-- Custom platforms will be listed here -->
                        </div>
                    </div>
                </div>

                <div class="glass-card rounded-2xl p-6">
                    <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">ğŸ“Š Veri YÃ¶netimi</h3>
                    <div class="space-y-3">
                        <button id="import-btn" class="gradient-button w-full py-3 rounded-lg text-white">
                            ğŸ“¥ Ä°Ã§e Aktar
                        </button>
                        <button id="export-btn" class="gradient-button w-full py-3 rounded-lg text-white">
                            ğŸ“¤ DÄ±ÅŸa Aktar
                        </button>
                        <button id="clear-all-settings-btn" class="w-full py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors">
                            ğŸ—‘ï¸ TÃ¼m Verileri Temizle
                        </button>
                    </div>
                </div>

                <div class="glass-card rounded-2xl p-6">
                    <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">ğŸ’° Kasa YÃ¶netimi</h3>
                    <div class="space-y-3">
                        <button id="reset-bankroll-btn" class="w-full py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors">
                            ğŸ”„ KasayÄ± SÄ±fÄ±rla
                        </button>
                        <p class="text-xs text-gray-400">Bu iÅŸlem mevcut bakiyeyi sÄ±fÄ±rlar ve geri alÄ±namaz.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Action Button -->
    <div class="floating-action" id="floating-add-btn">
        â•
    </div>

    <!-- Modals -->
    <!-- Platform Manager Modal -->
    <div id="platform-manager-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-40 p-4">
        <div class="glass-card rounded-2xl p-6 w-full max-w-md">
            <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">Platform YÃ¶netimi</h3>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-gray-300 text-sm font-medium mb-2">Yeni Platform Ekle</label>
                    <div class="flex space-x-2">
                        <input type="text" id="new-platform-name-modal" placeholder="Platform adÄ±" 
                               class="input-glass flex-1 p-3 rounded-lg text-gray-800">
                        <button id="add-platform-modal-btn" class="gradient-button px-4 py-3 rounded-lg text-white">
                            â•
                        </button>
                    </div>
                </div>
                
                <div>
                    <label class="block text-gray-300 text-sm font-medium mb-2">Ã–zel Platformlar</label>
                    <div id="custom-platforms-list-modal" class="space-y-2 max-h-32 overflow-y-auto">
                        <!-- Custom platforms will be listed here -->
                    </div>
                </div>
            </div>

            <div class="flex justify-end space-x-3 mt-6">
                <button id="close-platform-manager-btn" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700">
                    Kapat
                </button>
            </div>
        </div>
    </div>

    <!-- Quick Add Modal -->
    <div id="quick-add-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-40 p-4">
        <div class="glass-card rounded-2xl p-6 w-full max-w-md">
            <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">HÄ±zlÄ± Bahis Ekle</h3>
            
            <form id="quick-add-form" class="space-y-4">
                <div>
                    <label class="block text-gray-300 text-sm font-medium mb-2">Platform</label>
                    <select id="quick-platform" required class="input-glass w-full p-3 rounded-lg text-gray-800">
                        <option value="">Platform SeÃ§in</option>
                    </select>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gray-300 text-sm font-medium mb-2">Miktar (â‚º)</label>
                        <input type="number" id="quick-amount" required min="0" step="0.01" placeholder="100"
                               class="input-glass w-full p-3 rounded-lg text-gray-800">
                    </div>
                    
                    <div>
                        <label class="block text-gray-300 text-sm font-medium mb-2">Oran</label>
                        <input type="number" id="quick-odds" required min="1" step="0.01" placeholder="2.50"
                               class="input-glass w-full p-3 rounded-lg text-gray-800">
                    </div>
                </div>

                <div class="image-upload-area rounded-lg p-4 text-center" id="quick-image-upload-area">
                    <div id="quick-upload-area" class="space-y-2">
                        <div class="text-2xl">ğŸ“¸</div>
                        <p class="text-gray-300 text-sm">Kupon resmi sÃ¼rÃ¼kleyin veya Ctrl+V ile yapÄ±ÅŸtÄ±rÄ±n</p>
                        <input type="file" id="quick-image-input" accept="image/*" class="hidden">
                        <button type="button" id="quick-image-select-btn" class="gradient-button px-3 py-2 rounded-lg text-white text-sm">
                            ğŸ“ SeÃ§
                        </button>
                    </div>
                    <div id="quick-image-preview" class="hidden mt-3">
                        <img id="quick-preview-img" class="max-w-full max-h-32 mx-auto rounded-lg">
                        <button type="button" id="quick-remove-image-btn" class="mt-2 px-2 py-1 bg-red-600 text-white rounded text-xs">
                            ğŸ—‘ï¸ KaldÄ±r
                        </button>
                    </div>
                </div>

                <div class="flex justify-end space-x-3">
                    <button type="button" id="close-quick-add-btn" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700">
                        Ä°ptal
                    </button>
                    <button type="submit" class="gradient-button px-4 py-2 rounded-lg text-white">
                        Ekle
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Import Modal -->
    <div id="import-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-40 p-4">
        <div class="glass-card rounded-2xl p-6 w-full max-w-md">
            <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">Veri Ä°Ã§e Aktarma</h3>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-gray-300 text-sm font-medium mb-2">JSON DosyasÄ± SeÃ§</label>
                    <input type="file" id="import-file" accept=".json" class="input-glass w-full p-3 rounded-lg text-gray-800">
                </div>
                
                <div>
                    <label class="block text-gray-300 text-sm font-medium mb-2">Veya JSON Metni YapÄ±ÅŸtÄ±r</label>
                    <textarea id="import-text" placeholder="JSON verisini buraya yapÄ±ÅŸtÄ±rÄ±n..." 
                              class="input-glass w-full p-3 rounded-lg text-gray-800 h-32 resize-none"></textarea>
                </div>
                
                <div>
                    <label class="block text-gray-300 text-sm font-medium mb-2">Ä°Ã§e Aktarma Modu</label>
                    <select id="import-mode" class="input-glass w-full p-3 rounded-lg text-gray-800">
                        <option value="merge">BirleÅŸtir (mevcut veriler korunur)</option>
                        <option value="replace">DeÄŸiÅŸtir (mevcut veriler silinir)</option>
                    </select>
                </div>
            </div>

            <div class="flex justify-end space-x-3 mt-6">
                <button id="close-import-btn" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700">
                    Ä°ptal
                </button>
                <button id="import-data-btn" class="gradient-button px-4 py-2 rounded-lg text-white">
                    Ä°Ã§e Aktar
                </button>
            </div>
        </div>
    </div>

    <!-- Edit Modal -->
    <div id="edit-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-40 p-4">
        <div class="glass-card rounded-2xl p-6 w-full max-w-md">
            <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">Bahis GÃ¼ncelle</h3>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-gray-300 text-sm font-medium mb-2">Durum</label>
                    <select id="edit-status" class="input-glass w-full p-3 rounded-lg text-gray-800">
                        <option value="pending">Bekleyen</option>
                        <option value="won">KazandÄ±</option>
                        <option value="lost">Kaybetti</option>
                    </select>
                </div>
                
                <div id="win-amount-section" class="hidden">
                    <label class="block text-gray-300 text-sm font-medium mb-2">KazanÃ§ MiktarÄ± (â‚º)</label>
                    <input type="number" id="edit-win-amount" min="0" step="0.01" 
                           class="input-glass w-full p-3 rounded-lg text-gray-800">
                </div>
            </div>

            <div class="flex justify-end space-x-3 mt-6">
                <button id="close-edit-btn" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700">
                    Ä°ptal
                </button>
                <button id="save-edit-btn" class="gradient-button px-4 py-2 rounded-lg text-white">
                    Kaydet
                </button>
            </div>
        </div>
    </div>

    <!-- Image Modal -->
    <div id="image-modal" class="fixed inset-0 bg-black bg-opacity-75 hidden items-center justify-center z-50 p-4">
        <div class="max-w-4xl max-h-full">
            <img id="modal-image" class="max-w-full max-h-full rounded-lg">
        </div>
    </div>

    <script>
        // Global variables
        let bets = [];
        let customPlatforms = [];
        let editingBetId = null;
        let currentImageData = null;
        let quickImageData = null;
        let profitChart, platformChart;
        let currentSection = 'dashboard';
        let currentPage = 1;
        const itemsPerPage = 10;

        const defaultPlatforms = [
            "Artemisbet", "Asyabahis", "Baywin", "Betgit", "Betorspin", "Betsin", "Betsmove", "Bets10",
            "Bibubet", "Bilyoner", "Capitolbet", "Cepbahis", "Dumanbet", "Gora", "Holigan", "Ä°majbet",
            "Ä°stanbulbahis", "Jojobet", "Kavbet", "Kingroyal", "Kralbet", "Ligobet", "Lunabet", "Madridbet",
            "Makrobet", "Maltcasino", "Mariobet", "Matbet", "Matixbet", "Maxwin", "Megabahis", "Meritking",
            "Mersobahis", "Millibahis", "Misli", "Nakitbahis", "Nesine", "Odeonbet", "Olabahis", "Onwin",
            "Padisahbet", "Parobet", "Pinbahis", "Pusulabet", "Risebet", "Sekabet", "Sonbahis", "Starz",
            "Superbet", "Superbahis", "SÃ¼perbahis", "Tarafbet", "Trendbet", "Tuttur", "Yedibahis", "Zirvebet", "Zlot"
        ];

        // Initialize app when page loads
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            setupEventListeners();
            initializeUI();
        });

        function loadData() {
            try {
                bets = JSON.parse(localStorage.getItem('futuristic-bets')) || [];
                customPlatforms = JSON.parse(localStorage.getItem('custom-platforms')) || [];
            } catch (error) {
                console.error('Veri yÃ¼kleme hatasÄ±:', error);
                bets = [];
                customPlatforms = [];
            }
        }

        function saveData() {
            try {
                localStorage.setItem('futuristic-bets', JSON.stringify(bets));
                localStorage.setItem('custom-platforms', JSON.stringify(customPlatforms));
            } catch (error) {
                console.error('Veri kaydetme hatasÄ±:', error);
                showNotification('Veriler kaydedilemedi!', 'error');
            }
        }

        function setupEventListeners() {
            // Sidebar navigation
            document.querySelectorAll('.sidebar-item[data-section]').forEach(item => {
                item.addEventListener('click', function() {
                    const section = this.getAttribute('data-section');
                    showSection(section);
                });
            });

            // Sidebar toggle
            document.getElementById('sidebar-toggle')?.addEventListener('click', toggleSidebar);
            document.getElementById('mobile-toggle')?.addEventListener('click', toggleMobileSidebar);

            // Quick add buttons
            document.getElementById('quick-add-btn')?.addEventListener('click', openQuickAddModal);
            document.getElementById('floating-add-btn')?.addEventListener('click', openQuickAddModal);

            // Bankroll management
            document.getElementById('bankroll-update-btn')?.addEventListener('click', updateBankroll);

            // Navigation
            document.getElementById('show-history-btn')?.addEventListener('click', () => showSection('history'));

            // Platform management
            document.getElementById('platform-manager-btn')?.addEventListener('click', openPlatformManager);
            document.getElementById('add-platform-btn')?.addEventListener('click', addCustomPlatform);

            // Form handling
            document.getElementById('bet-type')?.addEventListener('change', toggleBetTypeFields);
            document.getElementById('slot-type')?.addEventListener('change', toggleSlotDetails);
            document.getElementById('bet-form')?.addEventListener('submit', handleBetFormSubmit);
            document.getElementById('reset-form-btn')?.addEventListener('click', resetForm);

            // History
            document.getElementById('status-filter')?.addEventListener('change', () => {
                currentPage = 1;
                renderHistory();
            });
            document.getElementById('clear-all-btn')?.addEventListener('click', clearAllData);

            // Settings
            document.getElementById('import-btn')?.addEventListener('click', openImportModal);
            document.getElementById('export-btn')?.addEventListener('click', exportData);
            document.getElementById('clear-all-settings-btn')?.addEventListener('click', clearAllData);
            document.getElementById('reset-bankroll-btn')?.addEventListener('click', resetBankroll);

            // Modal event listeners
            setupModalEventListeners();

            // Image upload
            setupImageUpload();

            // Keyboard shortcuts
            setupKeyboardShortcuts();
        }

        function setupModalEventListeners() {
            // Platform manager modal
            document.getElementById('close-platform-manager-btn')?.addEventListener('click', closePlatformManager);
            document.getElementById('add-platform-modal-btn')?.addEventListener('click', addCustomPlatformFromModal);

            // Quick add modal
            document.getElementById('close-quick-add-btn')?.addEventListener('click', closeQuickAddModal);
            document.getElementById('quick-add-form')?.addEventListener('submit', handleQuickAddSubmit);

            // Import modal
            document.getElementById('close-import-btn')?.addEventListener('click', closeImportModal);
            document.getElementById('import-data-btn')?.addEventListener('click', importData);

            // Edit modal
            document.getElementById('close-edit-btn')?.addEventListener('click', closeEditModal);
            document.getElementById('save-edit-btn')?.addEventListener('click', saveEdit);
            document.getElementById('edit-status')?.addEventListener('change', toggleWinAmountSection);

            // Image modal
            document.getElementById('image-modal')?.addEventListener('click', closeImageModal);
        }

        function setupKeyboardShortcuts() {
            document.getElementById('new-platform-name')?.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') addCustomPlatform();
            });

            document.getElementById('new-platform-name-modal')?.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') addCustomPlatformFromModal();
            });

            document.getElementById('bankroll-update')?.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') updateBankroll();
            });

            document.addEventListener('paste', handleGlobalPaste);
        }

        function setupImageUpload() {
            // Main form image upload
            const imageInput = document.getElementById('image-input');
            const imageSelectBtn = document.getElementById('image-select-btn');
            const removeImageBtn = document.getElementById('remove-image-btn');
            const uploadArea = document.getElementById('image-upload-area');

            imageSelectBtn?.addEventListener('click', () => imageInput?.click());
            imageInput?.addEventListener('change', function(e) {
                if (e.target.files[0]) handleImageFile(e.target.files[0]);
            });
            removeImageBtn?.addEventListener('click', removeImage);

            uploadArea?.addEventListener('dragover', handleDragOver);
            uploadArea?.addEventListener('dragleave', handleDragLeave);
            uploadArea?.addEventListener('drop', handleDrop);

            // Quick add image upload
            const quickImageInput = document.getElementById('quick-image-input');
            const quickImageSelectBtn = document.getElementById('quick-image-select-btn');
            const quickRemoveImageBtn = document.getElementById('quick-remove-image-btn');
            const quickUploadArea = document.getElementById('quick-image-upload-area');

            quickImageSelectBtn?.addEventListener('click', () => quickImageInput?.click());
            quickImageInput?.addEventListener('change', function(e) {
                if (e.target.files[0]) handleQuickImageFile(e.target.files[0]);
            });
            quickRemoveImageBtn?.addEventListener('click', removeQuickImage);

            quickUploadArea?.addEventListener('dragover', handleQuickDragOver);
            quickUploadArea?.addEventListener('dragleave', handleQuickDragLeave);
            quickUploadArea?.addEventListener('drop', handleQuickDrop);
        }

        function initializeUI() {
            setDefaultDates();
            populatePlatformOptions();
            renderCustomPlatforms();
            updateStats();
            renderHistory();
            renderRecentBets();
        }

        // Notification system
        function showNotification(message, type = 'info', duration = 3000) {
            const notification = document.createElement('div');
            const colors = {
                success: 'from-green-500 to-emerald-600',
                error: 'from-red-500 to-red-600',
                warning: 'from-yellow-500 to-orange-600',
                info: 'from-blue-500 to-blue-600'
            };
            
            notification.className = `notification bg-gradient-to-r ${colors[type]} text-white px-6 py-4 rounded-xl shadow-lg max-w-sm glass-card`;
            notification.innerHTML = `
                <div class="flex items-center justify-between">
                    <span class="font-medium">${message}</span>
                    <button onclick="this.parentElement.parentElement.remove()" class="ml-3 text-white hover:text-gray-200 text-xl">
                        Ã—
                    </button>
                </div>
            `;
            
            const notificationsContainer = document.getElementById('notifications');
            notificationsContainer?.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, duration);
        }

        // Section management
        function showSection(sectionName) {
            document.querySelectorAll('.page-section').forEach(section => {
                section.classList.remove('active');
            });
            
            const targetSection = document.getElementById(sectionName);
            targetSection?.classList.add('active');
            
            document.querySelectorAll('.sidebar-item').forEach(item => {
                item.classList.remove('active');
            });
            
            const activeItem = document.querySelector(`[data-section="${sectionName}"]`);
            activeItem?.classList.add('active');
            
            currentSection = sectionName;
            
            const sidebar = document.getElementById('sidebar');
            sidebar?.classList.remove('mobile-open');
            
            if (sectionName === 'statistics') {
                setTimeout(() => {
                    updateCharts();
                    updateStatisticsOverview();
                }, 100);
            }
        }

        // Sidebar functionality
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('main-content');
            
            sidebar?.classList.toggle('collapsed');
            mainContent?.classList.toggle('expanded');
        }

        function toggleMobileSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar?.classList.toggle('mobile-open');
        }

        // Platform management
        function populatePlatformOptions() {
            const allPlatforms = [...defaultPlatforms, ...customPlatforms].sort();
            const platformSelect = document.getElementById('platform');
            const quickPlatformSelect = document.getElementById('quick-platform');
            
            if (platformSelect) {
                platformSelect.innerHTML = '<option value="">Platform SeÃ§in</option>';
                allPlatforms.forEach(platform => {
                    const option = document.createElement('option');
                    option.value = platform;
                    option.textContent = platform;
                    platformSelect.appendChild(option);
                });
            }
            
            if (quickPlatformSelect) {
                quickPlatformSelect.innerHTML = '<option value="">Platform SeÃ§in</option>';
                allPlatforms.forEach(platform => {
                    const option = document.createElement('option');
                    option.value = platform;
                    option.textContent = platform;
                    quickPlatformSelect.appendChild(option);
                });
            }
        }

        function addCustomPlatform() {
            const input = document.getElementById('new-platform-name');
            if (!input) return;
            
            const name = input.value.trim();
            if (name && !customPlatforms.includes(name) && !defaultPlatforms.includes(name)) {
                customPlatforms.push(name);
                saveData();
                input.value = '';
                renderCustomPlatforms();
                populatePlatformOptions();
                showNotification(`âœ… ${name} platformu eklendi!`, 'success');
            }
        }

        function addCustomPlatformFromModal() {
            const input = document.getElementById('new-platform-name-modal');
            if (!input) return;
            
            const name = input.value.trim();
            if (name && !customPlatforms.includes(name) && !defaultPlatforms.includes(name)) {
                customPlatforms.push(name);
                saveData();
                input.value = '';
                renderCustomPlatforms();
                renderCustomPlatformsModal();
                populatePlatformOptions();
                showNotification(`âœ… ${name} platformu eklendi!`, 'success');
            }
        }

        function removeCustomPlatform(platform) {
            customPlatforms = customPlatforms.filter(p => p !== platform);
            saveData();
            renderCustomPlatforms();
            renderCustomPlatformsModal();
            populatePlatformOptions();
            showNotification(`ğŸ—‘ï¸ ${platform} platformu silindi`, 'error');
        }

        function renderCustomPlatforms() {
            const container = document.getElementById('custom-platforms-list');
            if (!container) return;
            
            if (customPlatforms.length === 0) {
                container.innerHTML = '<p class="text-gray-400 text-sm">HenÃ¼z Ã¶zel platform eklenmemiÅŸ</p>';
                return;
            }
            
            container.innerHTML = customPlatforms.map(platform => `
                <div class="flex justify-between items-center bg-gray-700 bg-opacity-50 p-3 rounded-lg">
                    <span class="text-white text-sm">${platform}</span>
                    <button onclick="removeCustomPlatform('${platform}')" class="text-red-400 hover:text-red-300 text-sm px-2 py-1 rounded">
                        ğŸ—‘ï¸
                    </button>
                </div>
            `).join('');
        }

        function renderCustomPlatformsModal() {
            const container = document.getElementById('custom-platforms-list-modal');
            if (!container) return;
            
            if (customPlatforms.length === 0) {
                container.innerHTML = '<p class="text-gray-400 text-sm">HenÃ¼z Ã¶zel platform eklenmemiÅŸ</p>';
                return;
            }
            
            container.innerHTML = customPlatforms.map(platform => `
                <div class="flex justify-between items-center bg-gray-700 bg-opacity-50 p-2 rounded">
                    <span class="text-white text-sm">${platform}</span>
                    <button onclick="removeCustomPlatform('${platform}')" class="text-red-400 hover:text-red-300 text-sm">
                        ğŸ—‘ï¸
                    </button>
                </div>
            `).join('');
        }

        // Modal management
        function openPlatformManager() {
            const modal = document.getElementById('platform-manager-modal');
            modal?.classList.remove('hidden');
            modal?.classList.add('flex');
            renderCustomPlatformsModal();
        }

        function closePlatformManager() {
            const modal = document.getElementById('platform-manager-modal');
            modal?.classList.add('hidden');
            modal?.classList.remove('flex');
        }

        function openQuickAddModal() {
            const modal = document.getElementById('quick-add-modal');
            modal?.classList.remove('hidden');
            modal?.classList.add('flex');
        }

        function closeQuickAddModal() {
            const modal = document.getElementById('quick-add-modal');
            modal?.classList.add('hidden');
            modal?.classList.remove('flex');
            
            const form = document.getElementById('quick-add-form');
            form?.reset();
            removeQuickImage();
        }

        function openImportModal() {
            const modal = document.getElementById('import-modal');
            modal?.classList.remove('hidden');
            modal?.classList.add('flex');
        }

        function closeImportModal() {
            const modal = document.getElementById('import-modal');
            modal?.classList.add('hidden');
            modal?.classList.remove('flex');
            
            const fileInput = document.getElementById('import-file');
            const textInput = document.getElementById('import-text');
            if (fileInput) fileInput.value = '';
            if (textInput) textInput.value = '';
        }

        function openEditModal(id) {
            editingBetId = id;
            const bet = bets.find(b => b.id === id);
            if (!bet) return;

            const statusSelect = document.getElementById('edit-status');
            const winAmountInput = document.getElementById('edit-win-amount');
            
            if (statusSelect) statusSelect.value = bet.status;
            if (winAmountInput) winAmountInput.value = bet.winAmount;
            
            toggleWinAmountSection();
            
            const modal = document.getElementById('edit-modal');
            modal?.classList.remove('hidden');
            modal?.classList.add('flex');
        }

        function closeEditModal() {
            const modal = document.getElementById('edit-modal');
            modal?.classList.add('hidden');
            modal?.classList.remove('flex');
            editingBetId = null;
        }

        function showImageModal(imageSrc) {
            const modalImage = document.getElementById('modal-image');
            const modal = document.getElementById('image-modal');
            
            if (modalImage && modal) {
                modalImage.src = imageSrc;
                modal.classList.remove('hidden');
                modal.classList.add('flex');
            }
        }

        function closeImageModal() {
            const modal = document.getElementById('image-modal');
            modal?.classList.add('hidden');
            modal?.classList.remove('flex');
        }

        // Form handling
        function setDefaultDates() {
            const today = new Date().toISOString().split('T')[0];
            const betDate = document.getElementById('bet-date');
            const slotDate = document.getElementById('slot-date');
            
            if (betDate) betDate.value = today;
            if (slotDate) slotDate.value = today;
        }

        function toggleBetTypeFields() {
            const betType = document.getElementById('bet-type');
            const sportFields = document.getElementById('sport-fields');
            const slotFields = document.getElementById('slot-fields');
            
            if (!betType || !sportFields || !slotFields) return;
            
            if (betType.value === 'Slot') {
                sportFields.style.display = 'none';
                slotFields.style.display = 'block';
                
                document.getElementById('slot-game').required = true;
                document.getElementById('spin-count').required = true;
                document.getElementById('spin-bet').required = true;
                document.getElementById('slot-date').required = true;
                
                document.getElementById('description').required = false;
                document.getElementById('bet-amount').required = false;
                document.getElementById('odds').required = false;
                document.getElementById('bet-date').required = false;
            } else {
                sportFields.style.display = 'block';
                slotFields.style.display = 'none';
                
                document.getElementById('description').required = true;
                document.getElementById('bet-amount').required = true;
                document.getElementById('odds').required = true;
                document.getElementById('bet-date').required = true;
                
                document.getElementById('slot-game').required = false;
                document.getElementById('spin-count').required = false;
                document.getElementById('spin-bet').required = false;
                document.getElementById('slot-date').required = false;
            }
        }

        function toggleSlotDetails() {
            const slotType = document.getElementById('slot-type');
            const freespinDetails = document.getElementById('freespin-details');
            const happyHourDetails = document.getElementById('happy-hour-details');
            
            if (!slotType || !freespinDetails || !happyHourDetails) return;
            
            freespinDetails.classList.add('hidden');
            happyHourDetails.classList.add('hidden');
            
            if (slotType.value === 'Freespin') {
                freespinDetails.classList.remove('hidden');
            } else if (slotType.value === 'Happy Hour') {
                happyHourDetails.classList.remove('hidden');
            }
        }

        function toggleWinAmountSection() {
            const status = document.getElementById('edit-status');
            const winAmountSection = document.getElementById('win-amount-section');
            
            if (!status || !winAmountSection) return;
            
            if (status.value === 'won') {
                winAmountSection.classList.remove('hidden');
            } else {
                winAmountSection.classList.add('hidden');
            }
        }

        function handleBetFormSubmit(e) {
            e.preventDefault();
            
            const betType = document.getElementById('bet-type').value;
            let formData;
            
            if (betType === 'Slot') {
                const spinCount = parseInt(document.getElementById('spin-count').value);
                const spinBet = parseFloat(document.getElementById('spin-bet').value);
                const totalAmount = spinCount * spinBet;
                
                formData = {
                    id: Date.now(),
                    platform: document.getElementById('platform').value,
                    betType: betType,
                    description: `${document.getElementById('slot-game').value} - ${document.getElementById('slot-type').value}`,
                    betAmount: totalAmount,
                    odds: 1,
                    date: new Date(document.getElementById('slot-date').value).toLocaleDateString('tr-TR'),
                    status: 'pending',
                    winAmount: 0,
                    profitLoss: 0,
                    image: currentImageData,
                    slotDetails: {
                        slotType: document.getElementById('slot-type').value,
                        slotGame: document.getElementById('slot-game').value,
                        spinCount: spinCount,
                        spinBet: spinBet,
                        freespinDetail: document.getElementById('freespin-detail').value,
                        happyHourDetail: document.getElementById('happy-hour-detail').value
                    }
                };
            } else {
                formData = {
                    id: Date.now(),
                    platform: document.getElementById('platform').value,
                    betType: betType,
                    description: document.getElementById('description').value,
                    betAmount: parseFloat(document.getElementById('bet-amount').value),
                    odds: parseFloat(document.getElementById('odds').value),
                    date: new Date(document.getElementById('bet-date').value).toLocaleDateString('tr-TR'),
                    status: 'pending',
                    winAmount: 0,
                    profitLoss: 0,
                    image: currentImageData
                };
            }

            bets.push(formData);
            saveData();
            updateStats();
            renderHistory();
            renderRecentBets();
            resetForm();
            
            showNotification('ğŸ¯ Yeni bahis baÅŸarÄ±yla eklendi!', 'success');
        }

        function handleQuickAddSubmit(e) {
            e.preventDefault();
            
            const formData = {
                id: Date.now(),
                platform: document.getElementById('quick-platform').value,
                betType: 'Spor Bahis',
                description: 'HÄ±zlÄ± bahis',
                betAmount: parseFloat(document.getElementById('quick-amount').value),
                odds: parseFloat(document.getElementById('quick-odds').value),
                date: new Date().toLocaleDateString('tr-TR'),
                status: 'pending',
                winAmount: 0,
                profitLoss: 0,
                image: quickImageData
            };

            bets.push(formData);
            saveData();
            updateStats();
            renderHistory();
            renderRecentBets();
            closeQuickAddModal();
            
            showNotification('ğŸš€ HÄ±zlÄ± bahis eklendi!', 'success');
        }

        function resetForm() {
            const form = document.getElementById('bet-form');
            form?.reset();
            setDefaultDates();
            removeImage();
            toggleBetTypeFields();
        }

        // Image handling
        function handleGlobalPaste(e) {
            const items = e.clipboardData.items;
            for (let item of items) {
                if (item.type.indexOf('image') !== -1) {
                    const file = item.getAsFile();
                    
                    const quickModal = document.getElementById('quick-add-modal');
                    if (quickModal && !quickModal.classList.contains('hidden')) {
                        handleQuickImageFile(file);
                    } else if (currentSection === 'new-bet') {
                        handleImageFile(file);
                    }
                    break;
                }
            }
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.currentTarget.classList.add('dragover');
        }

        function handleDragLeave(e) {
            e.preventDefault();
            e.currentTarget.classList.remove('dragover');
        }

        function handleDrop(e) {
            e.preventDefault();
            e.currentTarget.classList.remove('dragover');
            if (e.dataTransfer.files[0]) {
                handleImageFile(e.dataTransfer.files[0]);
            }
        }

        function handleImageFile(file) {
            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    currentImageData = e.target.result;
                    const previewImg = document.getElementById('preview-img');
                    const uploadArea = document.getElementById('upload-area');
                    const imagePreview = document.getElementById('image-preview');
                    
                    if (previewImg) previewImg.src = currentImageData;
                    uploadArea?.classList.add('hidden');
                    imagePreview?.classList.remove('hidden');
                };
                reader.readAsDataURL(file);
            }
        }

        function removeImage() {
            currentImageData = null;
            const uploadArea = document.getElementById('upload-area');
            const imagePreview = document.getElementById('image-preview');
            const imageInput = document.getElementById('image-input');
            
            uploadArea?.classList.remove('hidden');
            imagePreview?.classList.add('hidden');
            if (imageInput) imageInput.value = '';
        }

        function handleQuickDragOver(e) {
            e.preventDefault();
            e.currentTarget.classList.add('dragover');
        }

        function handleQuickDragLeave(e) {
            e.preventDefault();
            e.currentTarget.classList.remove('dragover');
        }

        function handleQuickDrop(e) {
            e.preventDefault();
            e.currentTarget.classList.remove('dragover');
            if (e.dataTransfer.files[0]) {
                handleQuickImageFile(e.dataTransfer.files[0]);
            }
        }

        function handleQuickImageFile(file) {
            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    quickImageData = e.target.result;
                    const previewImg = document.getElementById('quick-preview-img');
                    const uploadArea = document.getElementById('quick-upload-area');
                    const imagePreview = document.getElementById('quick-image-preview');
                    
                    if (previewImg) previewImg.src = quickImageData;
                    uploadArea?.classList.add('hidden');
                    imagePreview?.classList.remove('hidden');
                };
                reader.readAsDataURL(file);
            }
        }

        function removeQuickImage() {
            quickImageData = null;
            const uploadArea = document.getElementById('quick-upload-area');
            const imagePreview = document.getElementById('quick-image-preview');
            const imageInput = document.getElementById('quick-image-input');
            
            uploadArea?.classList.remove('hidden');
            imagePreview?.classList.add('hidden');
            if (imageInput) imageInput.value = '';
        }

        // Bankroll management
        function updateBankroll() {
            const input = document.getElementById('bankroll-update');
            if (!input) return;
            
            const amount = parseFloat(input.value);
            if (isNaN(amount) || amount === 0) return;
            
            const formData = {
                id: Date.now(),
                platform: 'Kasa GÃ¼ncelleme',
                betType: 'Kasa Ä°ÅŸlemi',
                description: amount > 0 ? 'Para Ekleme' : 'Para Ã‡Ä±karma',
                betAmount: 0,
                odds: 1,
                date: new Date().toLocaleDateString('tr-TR'),
                status: 'won',
                winAmount: amount,
                profitLoss: amount,
                image: null
            };

            bets.push(formData);
            saveData();
            updateStats();
            renderHistory();
            renderRecentBets();
            input.value = '';
            
            showNotification(`ğŸ’° Kasa ${amount > 0 ? 'artÄ±rÄ±ldÄ±' : 'azaltÄ±ldÄ±'}: ${amount.toFixed(2)} â‚º`, 'success');
        }

        function resetBankroll() {
            if (confirm('KasayÄ± sÄ±fÄ±rlamak istediÄŸinizden emin misiniz?\n\nBu iÅŸlem mevcut bakiyeyi 0 yapacak ve geri alÄ±namaz!')) {
                const currentBankroll = bets.reduce((sum, bet) => sum + bet.profitLoss, 0);
                
                if (currentBankroll !== 0) {
                    const formData = {
                        id: Date.now(),
                        platform: 'Kasa SÄ±fÄ±rlama',
                        betType: 'Kasa Ä°ÅŸlemi',
                        description: 'Kasa SÄ±fÄ±rlama',
                        betAmount: 0,
                        odds: 1,
                        date: new Date().toLocaleDateString('tr-TR'),
                        status: 'won',
                        winAmount: -currentBankroll,
                        profitLoss: -currentBankroll,
                        image: null
                    };

                    bets.push(formData);
                    saveData();
                    updateStats();
                    renderHistory();
                    renderRecentBets();
                    
                    showNotification('ğŸ”„ Kasa sÄ±fÄ±rlandÄ±!', 'warning');
                } else {
                    showNotification('â„¹ï¸ Kasa zaten sÄ±fÄ±r durumda', 'info');
                }
            }
        }

        // Global functions for button clicks
        window.markAsWon = function(id) {
            const bet = bets.find(b => b.id === id);
            if (!bet) return;
            
            const expectedWin = bet.betAmount * bet.odds;
            bet.status = 'won';
            bet.winAmount = expectedWin;
            bet.profitLoss = expectedWin - bet.betAmount;
            
            saveData();
            updateStats();
            renderHistory();
            renderRecentBets();
            
            showNotification(`ğŸ‰ Tebrikler! +${bet.profitLoss.toFixed(2)} â‚º kazandÄ±nÄ±z!`, 'success');
        };

        window.markAsLost = function(id) {
            const bet = bets.find(b => b.id === id);
            if (!bet) return;
            
            bet.status = 'lost';
            bet.winAmount = 0;
            bet.profitLoss = -bet.betAmount;
            
            saveData();
            updateStats();
            renderHistory();
            renderRecentBets();
            
            showNotification(`ğŸ˜” Bahis kaybedildi: ${bet.profitLoss.toFixed(2)} â‚º`, 'error');
        };

        window.deleteBet = function(id) {
            if (confirm('Bu bahisi silmek istediÄŸinizden emin misiniz?')) {
                bets = bets.filter(bet => bet.id !== id);
                saveData();
                updateStats();
                renderHistory();
                renderRecentBets();
                showNotification('ğŸ—‘ï¸ Bahis silindi', 'error');
            }
        };

        window.openEditModal = openEditModal;
        window.showImageModal = showImageModal;
        window.removeCustomPlatform = removeCustomPlatform;

        function saveEdit() {
            const bet = bets.find(b => b.id === editingBetId);
            if (!bet) return;

            const statusSelect = document.getElementById('edit-status');
            const winAmountInput = document.getElementById('edit-win-amount');
            
            if (!statusSelect) return;
            
            const status = statusSelect.value;
            const winAmount = parseFloat(winAmountInput?.value || 0);

            bet.status = status;
            bet.winAmount = winAmount;

            if (status === 'won') {
                bet.profitLoss = winAmount - bet.betAmount;
            } else if (status === 'lost') {
                bet.profitLoss = -bet.betAmount;
            } else {
                bet.profitLoss = 0;
            }

            saveData();
            updateStats();
            renderHistory();
            renderRecentBets();
            closeEditModal();
            
            if (status === 'won') {
                showNotification(`ğŸ‰ Tebrikler! +${bet.profitLoss.toFixed(2)} â‚º kazandÄ±nÄ±z!`, 'success');
            } else if (status === 'lost') {
                showNotification(`ğŸ˜” Bahis kaybedildi: ${bet.profitLoss.toFixed(2)} â‚º`, 'error');
            }
        }

        // Data management
        function clearAllData() {
            if (confirm('TÃœM VERÄ°LERÄ° SÄ°LMEK Ä°STEDÄ°ÄÄ°NÄ°ZDEN EMÄ°N MÄ°SÄ°NÄ°Z?\n\nBu iÅŸlem geri alÄ±namaz!')) {
                if (confirm('Son kez soruyorum: TÃ¼m bahis geÃ§miÅŸi ve kasa bilgileri silinecek. Devam edilsin mi?')) {
                    bets = [];
                    localStorage.removeItem('futuristic-bets');
                    updateStats();
                    renderHistory();
                    renderRecentBets();
                    
                    showNotification('ğŸ—‘ï¸ TÃ¼m veriler silindi!', 'error');
                }
            }
        }

        function exportData() {
            const data = {
                bets: bets,
                customPlatforms: customPlatforms,
                exportDate: new Date().toISOString(),
                version: '65'
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `kasamatik-backup-${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            
            showNotification('ğŸ“¤ Veriler baÅŸarÄ±yla dÄ±ÅŸa aktarÄ±ldÄ±!', 'success');
        }

        function importData() {
            const fileInput = document.getElementById('import-file');
            const textInput = document.getElementById('import-text');
            const modeSelect = document.getElementById('import-mode');
            
            if (!modeSelect) return;
            
            const mode = modeSelect.value;
            
            if (fileInput && fileInput.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    processImportData(e.target.result, mode);
                };
                reader.readAsText(fileInput.files[0]);
            } else if (textInput && textInput.value.trim()) {
                processImportData(textInput.value.trim(), mode);
            } else {
                showNotification('âŒ LÃ¼tfen bir dosya seÃ§in veya JSON metni yapÄ±ÅŸtÄ±rÄ±n', 'error');
            }
        }

        function processImportData(jsonString, mode) {
            try {
                const data = JSON.parse(jsonString);
                
                if (data.bets && Array.isArray(data.bets)) {
                    if (mode === 'replace') {
                        bets = data.bets;
                    } else {
                        const existingIds = new Set(bets.map(bet => bet.id));
                        const newBets = data.bets.filter(bet => !existingIds.has(bet.id));
                        bets = [...bets, ...newBets];
                    }
                    
                    saveData();
                    updateStats();
                    renderHistory();
                    renderRecentBets();
                    closeImportModal();
                    
                    showNotification(`ğŸ“¥ ${data.bets.length} bahis baÅŸarÄ±yla iÃ§e aktarÄ±ldÄ±!`, 'success');
                } else {
                    showNotification('âŒ GeÃ§ersiz JSON formatÄ±', 'error');
                }
            } catch (error) {
                showNotification('âŒ JSON parse hatasÄ±: ' + error.message, 'error');
            }
        }

        // Statistics and rendering
        function updateStats() {
            const totalBets = bets.length;
            const totalProfit = bets.reduce((sum, bet) => sum + (bet.profitLoss > 0 ? bet.profitLoss : 0), 0);
            const totalLoss = Math.abs(bets.reduce((sum, bet) => sum + (bet.profitLoss < 0 ? bet.profitLoss : 0), 0));
            const totalBankroll = bets.reduce((sum, bet) => sum + bet.profitLoss, 0);

            const totalBetsEl = document.getElementById('total-bets');
            const totalProfitEl = document.getElementById('total-profit');
            const totalLossEl = document.getElementById('total-loss');
            const totalBankrollEl = document.getElementById('total-bankroll');

            if (totalBetsEl) totalBetsEl.textContent = totalBets;
            if (totalProfitEl) totalProfitEl.textContent = `+${totalProfit.toFixed(2)} â‚º`;
            if (totalLossEl) totalLossEl.textContent = `-${totalLoss.toFixed(2)} â‚º`;
            if (totalBankrollEl) {
                totalBankrollEl.textContent = `${totalBankroll >= 0 ? '+' : ''}${totalBankroll.toFixed(2)} â‚º`;
                totalBankrollEl.className = `text-2xl font-montserrat font-bold ${totalBankroll >= 0 ? 'text-green-400' : 'text-red-400'}`;
            }

            // Update additional statistics
            const finishedBets = bets.filter(bet => bet.status !== 'pending' && bet.betType !== 'Kasa Ä°ÅŸlemi');
            const wonBets = finishedBets.filter(bet => bet.status === 'won');
            const winRate = finishedBets.length > 0 ? (wonBets.length / finishedBets.length * 100) : 0;
            
            const pendingBetsCount = bets.filter(bet => bet.status === 'pending' && bet.betType !== 'Kasa Ä°ÅŸlemi').length;
            
            // Calculate this month's profit/loss
            const currentMonth = new Date().getMonth();
            const currentYear = new Date().getFullYear();
            const monthlyProfit = bets
                .filter(bet => {
                    const betDate = new Date(bet.date.split('.').reverse().join('-'));
                    return betDate.getMonth() === currentMonth && betDate.getFullYear() === currentYear;
                })
                .reduce((sum, bet) => sum + bet.profitLoss, 0);

            const winRateEl = document.getElementById('win-rate');
            const pendingBetsEl = document.getElementById('pending-bets');
            const monthlyProfitEl = document.getElementById('monthly-profit');

            if (winRateEl) winRateEl.textContent = `${winRate.toFixed(1)}%`;
            if (pendingBetsEl) pendingBetsEl.textContent = pendingBetsCount;
            if (monthlyProfitEl) {
                monthlyProfitEl.textContent = `${monthlyProfit >= 0 ? '+' : ''}${monthlyProfit.toFixed(2)} â‚º`;
                monthlyProfitEl.className = monthlyProfit >= 0 ? 'text-green-400 font-bold' : 'text-red-400 font-bold';
            }
        }

        function updateStatisticsOverview() {
            const totalBets = bets.filter(bet => bet.betType !== 'Kasa Ä°ÅŸlemi').length;
            const finishedBets = bets.filter(bet => bet.status !== 'pending' && bet.betType !== 'Kasa Ä°ÅŸlemi');
            const wonBets = finishedBets.filter(bet => bet.status === 'won');
            const lostBets = finishedBets.filter(bet => bet.status === 'lost');
            const winRate = finishedBets.length > 0 ? (wonBets.length / finishedBets.length * 100) : 0;
            
            // Bet type breakdown
            const sportBets = bets.filter(bet => bet.betType === 'Spor Bahis' || bet.betType === 'CanlÄ± Bahis');
            const slotBets = bets.filter(bet => bet.betType === 'Slot');
            const casinoBets = bets.filter(bet => bet.betType === 'Casino');
            
            // Odds calculations
            const sportBetsWithOdds = sportBets.filter(bet => bet.odds > 1);
            const avgOdds = sportBetsWithOdds.length > 0 ? (sportBetsWithOdds.reduce((sum, bet) => sum + bet.odds, 0) / sportBetsWithOdds.length) : 0;
            const minOdds = sportBetsWithOdds.length > 0 ? Math.min(...sportBetsWithOdds.map(bet => bet.odds)) : 0;
            const maxOdds = sportBetsWithOdds.length > 0 ? Math.max(...sportBetsWithOdds.map(bet => bet.odds)) : 0;
            
            // Financial calculations
            const totalBankroll = bets.reduce((sum, bet) => sum + bet.profitLoss, 0);
            const totalInvested = bets.filter(bet => bet.betType !== 'Kasa Ä°ÅŸlemi').reduce((sum, bet) => sum + bet.betAmount, 0);
            const roi = totalInvested > 0 ? (totalBankroll / totalInvested * 100) : 0;
            
            // Average bet calculations
            const realBets = bets.filter(bet => bet.betType !== 'Kasa Ä°ÅŸlemi');
            const avgBet = realBets.length > 0 ? (realBets.reduce((sum, bet) => sum + bet.betAmount, 0) / realBets.length) : 0;
            const minBet = realBets.length > 0 ? Math.min(...realBets.map(bet => bet.betAmount)) : 0;
            const maxBet = realBets.length > 0 ? Math.max(...realBets.map(bet => bet.betAmount)) : 0;
            
            // Platform analysis
            const platformProfits = {};
            bets.forEach(bet => {
                if (bet.betType !== 'Kasa Ä°ÅŸlemi') {
                    if (!platformProfits[bet.platform]) {
                        platformProfits[bet.platform] = 0;
                    }
                    platformProfits[bet.platform] += bet.profitLoss;
                }
            });
            
            const bestPlatform = Object.keys(platformProfits).length > 0 
                ? Object.keys(platformProfits).reduce((a, b) => platformProfits[a] > platformProfits[b] ? a : b)
                : '-';
            const bestPlatformProfit = bestPlatform !== '-' ? platformProfits[bestPlatform] : 0;

            // Update main statistics
            const statsTotalBetsEl = document.getElementById('stats-total-bets');
            const statsWinRateEl = document.getElementById('stats-win-rate');
            const statsAvgOddsEl = document.getElementById('stats-avg-odds');
            const statsRoiEl = document.getElementById('stats-roi');
            const statsAvgBetEl = document.getElementById('stats-avg-bet');
            const statsBestPlatformEl = document.getElementById('stats-best-platform');

            if (statsTotalBetsEl) statsTotalBetsEl.textContent = totalBets;
            if (statsWinRateEl) statsWinRateEl.textContent = `${winRate.toFixed(1)}%`;
            if (statsAvgOddsEl) statsAvgOddsEl.textContent = avgOdds.toFixed(2);
            if (statsAvgBetEl) statsAvgBetEl.textContent = `${avgBet.toFixed(0)}â‚º`;
            if (statsBestPlatformEl) statsBestPlatformEl.textContent = bestPlatform.length > 12 ? bestPlatform.substring(0, 12) + '...' : bestPlatform;
            
            if (statsRoiEl) {
                statsRoiEl.textContent = `${roi >= 0 ? '+' : ''}${roi.toFixed(1)}%`;
                statsRoiEl.className = roi >= 0 ? 'text-2xl font-montserrat font-bold text-green-400' : 'text-2xl font-montserrat font-bold text-red-400';
            }

            // Update breakdown information
            const statsBetBreakdownEl = document.getElementById('stats-bet-breakdown');
            const statsWinBreakdownEl = document.getElementById('stats-win-breakdown');
            const statsOddsRangeEl = document.getElementById('stats-odds-range');
            const statsRoiBreakdownEl = document.getElementById('stats-roi-breakdown');
            const statsBetRangeEl = document.getElementById('stats-bet-range');
            const statsPlatformProfitEl = document.getElementById('stats-platform-profit');

            if (statsBetBreakdownEl) {
                statsBetBreakdownEl.textContent = `Spor: ${sportBets.length} | Slot: ${slotBets.length} | Casino: ${casinoBets.length}`;
            }
            
            if (statsWinBreakdownEl) {
                statsWinBreakdownEl.textContent = `Kazanan: ${wonBets.length} | Kaybeden: ${lostBets.length}`;
            }
            
            if (statsOddsRangeEl) {
                statsOddsRangeEl.textContent = `En dÃ¼ÅŸÃ¼k: ${minOdds.toFixed(2)} | En yÃ¼ksek: ${maxOdds.toFixed(2)}`;
            }
            
            if (statsRoiBreakdownEl) {
                statsRoiBreakdownEl.textContent = `YatÄ±rÄ±m: ${totalInvested.toFixed(0)}â‚º | Net kar: ${totalBankroll >= 0 ? '+' : ''}${totalBankroll.toFixed(0)}â‚º`;
                statsRoiBreakdownEl.className = totalBankroll >= 0 ? 'mt-2 text-xs text-green-300' : 'mt-2 text-xs text-red-300';
            }
            
            if (statsBetRangeEl) {
                statsBetRangeEl.textContent = `En dÃ¼ÅŸÃ¼k: ${minBet.toFixed(0)}â‚º | En yÃ¼ksek: ${maxBet.toFixed(0)}â‚º`;
            }
            
            if (statsPlatformProfitEl) {
                statsPlatformProfitEl.textContent = `Kar: ${bestPlatformProfit >= 0 ? '+' : ''}${bestPlatformProfit.toFixed(0)}â‚º`;
                statsPlatformProfitEl.className = bestPlatformProfit >= 0 ? 'mt-2 text-xs text-teal-300' : 'mt-2 text-xs text-red-300';
            }
        }

        function updateCharts() {
            updateProfitChart();
            updatePlatformChart();
        }

        function updateProfitChart() {
            const ctx = document.getElementById('profitChart');
            if (!ctx) return;

            if (profitChart) {
                profitChart.destroy();
            }

            const sortedBets = bets
                .filter(bet => bet.betType !== 'Kasa Ä°ÅŸlemi')
                .sort((a, b) => new Date(a.date.split('.').reverse().join('-')) - new Date(b.date.split('.').reverse().join('-')));

            let runningProfit = 0;
            const data = sortedBets.map(bet => {
                runningProfit += bet.profitLoss;
                return {
                    x: bet.date,
                    y: runningProfit
                };
            });

            profitChart = new Chart(ctx, {
                type: 'line',
                data: {
                    datasets: [{
                        label: 'Kar/Zarar Trendi',
                        data: data,
                        borderColor: '#8db3f0',
                        backgroundColor: 'rgba(141, 179, 240, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: {
                                color: 'white'
                            }
                        }
                    },
                    scales: {
                        x: {
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        y: {
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)',
                                callback: function(value) {
                                    return value.toFixed(2) + ' â‚º';
                                }
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        }
                    }
                }
            });
        }

        function updatePlatformChart() {
            const ctx = document.getElementById('platformChart');
            if (!ctx) return;

            if (platformChart) {
                platformChart.destroy();
            }

            const platformStats = {};
            bets.forEach(bet => {
                if (bet.betType !== 'Kasa Ä°ÅŸlemi') {
                    if (!platformStats[bet.platform]) {
                        platformStats[bet.platform] = 0;
                    }
                    platformStats[bet.platform]++;
                }
            });

            const labels = Object.keys(platformStats);
            const data = Object.values(platformStats);

            if (labels.length === 0) {
                return;
            }

            platformChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        data: data,
                        backgroundColor: [
                            '#8db3f0', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6',
                            '#06b6d4', '#84cc16', '#f97316', '#ec4899', '#6366f1'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: 'white',
                                padding: 20,
                                usePointStyle: true
                            }
                        }
                    }
                }
            });
        }

        function renderRecentBets() {
            const container = document.getElementById('recent-bets');
            if (!container) return;
            
            const recentBets = bets
                .sort((a, b) => new Date(b.date.split('.').reverse().join('-')) - new Date(a.date.split('.').reverse().join('-')))
                .slice(0, 5);
            
            if (recentBets.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-8 text-gray-400">
                        <div class="text-3xl mb-2">ğŸ“</div>
                        <p>HenÃ¼z bahis bulunmuyor</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = recentBets.map(bet => {
                const statusClass = {
                    pending: 'status-pending',
                    won: 'status-won',
                    lost: 'status-lost'
                };
                
                const statusText = {
                    pending: 'â³',
                    won: 'âœ…',
                    lost: 'âŒ'
                };

                const profitColor = bet.profitLoss > 0 ? 'text-green-400' : bet.profitLoss < 0 ? 'text-red-400' : 'text-gray-400';

                return `
                    <div class="bet-item">
                        <div class="flex justify-between items-center">
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-1">
                                    <span class="font-medium text-white text-sm">${bet.platform}</span>
                                    <span class="px-2 py-1 rounded-full text-xs ${statusClass[bet.status]}">${statusText[bet.status]}</span>
                                </div>
                                <p class="text-gray-300 text-xs truncate">${bet.description}</p>
                                <div class="text-xs text-gray-400 mt-1">${bet.date}</div>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-white text-sm">${bet.betAmount.toFixed(2)} â‚º</div>
                                ${bet.status !== 'pending' ? `<div class="font-bold ${profitColor} text-sm">${bet.profitLoss >= 0 ? '+' : ''}${bet.profitLoss.toFixed(2)} â‚º</div>` : ''}
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function updateHistoryStats(filteredBets) {
            const totalBets = filteredBets.length;
            const wonBets = filteredBets.filter(bet => bet.status === 'won').length;
            const lostBets = filteredBets.filter(bet => bet.status === 'lost').length;
            const pendingBets = filteredBets.filter(bet => bet.status === 'pending').length;

            const historyTotalBetsEl = document.getElementById('history-total-bets');
            const historyWonBetsEl = document.getElementById('history-won-bets');
            const historyLostBetsEl = document.getElementById('history-lost-bets');
            const historyPendingBetsEl = document.getElementById('history-pending-bets');

            if (historyTotalBetsEl) historyTotalBetsEl.textContent = totalBets;
            if (historyWonBetsEl) historyWonBetsEl.textContent = wonBets;
            if (historyLostBetsEl) historyLostBetsEl.textContent = lostBets;
            if (historyPendingBetsEl) historyPendingBetsEl.textContent = pendingBets;
        }

        function renderHistory() {
            const statusFilter = document.getElementById('status-filter');
            if (!statusFilter) return;
            
            let filteredBets = bets;
            
            if (statusFilter.value !== 'all') {
                filteredBets = filteredBets.filter(bet => bet.status === statusFilter.value);
            }

            updateHistoryStats(filteredBets);

            const historyContainer = document.getElementById('bet-history');
            if (!historyContainer) return;
            
            if (filteredBets.length === 0) {
                historyContainer.innerHTML = `
                    <div class="text-center py-16 text-gray-400">
                        <div class="text-6xl mb-4">ğŸ“</div>
                        <p class="text-xl mb-2">HenÃ¼z bahis bulunmuyor</p>
                        <p class="text-sm">Ä°lk bahisinizi eklemek iÃ§in "Yeni KayÄ±t" sekmesini kullanÄ±n</p>
                    </div>
                `;
                const paginationContainer = document.getElementById('pagination-container');
                if (paginationContainer) {
                    paginationContainer.innerHTML = '';
                }
                return;
            }

            // Sort bets by date (newest first)
            const sortedBets = filteredBets.sort((a, b) => 
                new Date(b.date.split('.').reverse().join('-')) - new Date(a.date.split('.').reverse().join('-'))
            );

            // Calculate pagination
            const totalPages = Math.ceil(sortedBets.length / itemsPerPage);
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const paginatedBets = sortedBets.slice(startIndex, endIndex);

            // Render bet cards
            historyContainer.innerHTML = paginatedBets.map(bet => {
                const statusClass = {
                    pending: 'pending',
                    won: 'won',
                    lost: 'lost'
                };
                
                const statusText = {
                    pending: 'â³ Bekleyen',
                    won: 'âœ… KazandÄ±',
                    lost: 'âŒ Kaybetti'
                };

                const statusBadgeClass = {
                    pending: 'status-pending',
                    won: 'status-won',
                    lost: 'status-lost'
                };

                const profitColor = bet.profitLoss > 0 ? 'text-green-400' : bet.profitLoss < 0 ? 'text-red-400' : 'text-gray-400';

                let actionButtons = '';
                if (bet.status === 'pending') {
                    actionButtons = `
                        <button onclick="markAsWon(${bet.id})" class="flex-1 px-4 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center space-x-2">
                            <span>âœ…</span>
                            <span>KazandÄ±</span>
                        </button>
                        <button onclick="markAsLost(${bet.id})" class="flex-1 px-4 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center space-x-2">
                            <span>âŒ</span>
                            <span>Kaybetti</span>
                        </button>
                    `;
                } else {
                    actionButtons = `
                        <button onclick="openEditModal(${bet.id})" class="flex-1 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center justify-center space-x-2">
                            <span>âœï¸</span>
                            <span>DÃ¼zenle</span>
                        </button>
                    `;
                }

                const betTypeIcon = {
                    'Spor Bahis': 'âš½',
                    'CanlÄ± Bahis': 'ğŸ”´',
                    'Casino': 'ğŸ°',
                    'Slot': 'ğŸ²',
                    'Kasa Ä°ÅŸlemi': 'ğŸ’°'
                };

                return `
                    <div class="bet-card ${statusClass[bet.status]}">
                        <div class="flex flex-col space-y-4">
                            <div class="flex flex-col sm:flex-row sm:justify-between sm:items-start space-y-3 sm:space-y-0">
                                <div class="flex items-center space-x-3">
                                    <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-2xl shadow-lg">
                                        ${betTypeIcon[bet.betType] || 'ğŸ¯'}
                                    </div>
                                    <div class="flex-1">
                                        <h3 class="font-bold text-white text-lg leading-tight">${bet.platform}</h3>
                                        <p class="text-gray-400 text-sm">${bet.betType}</p>
                                    </div>
                                </div>
                                <span class="px-4 py-2 rounded-full text-sm font-medium ${statusBadgeClass[bet.status]} self-start sm:self-auto whitespace-nowrap">
                                    ${statusText[bet.status]}
                                </span>
                            </div>
                            
                            <div class="bg-gray-800 bg-opacity-30 rounded-lg p-3">
                                <p class="text-gray-200 text-base leading-relaxed">${bet.description}</p>
                            </div>
                            
                            <div class="grid grid-cols-2 gap-4">
                                <div class="bg-gray-700 bg-opacity-40 rounded-lg p-3 text-center">
                                    <div class="text-2xl mb-1">ğŸ“…</div>
                                    <div class="text-xs text-gray-400 mb-1">Tarih</div>
                                    <div class="text-white font-semibold text-sm">${bet.date}</div>
                                </div>
                                <div class="bg-gray-700 bg-opacity-40 rounded-lg p-3 text-center">
                                    <div class="text-2xl mb-1">ğŸ’°</div>
                                    <div class="text-xs text-gray-400 mb-1">Bahis MiktarÄ±</div>
                                    <div class="text-white font-semibold text-sm">${bet.betAmount.toFixed(2)} â‚º</div>
                                </div>
                                ${bet.betType !== 'Slot' && bet.betType !== 'Kasa Ä°ÅŸlemi' ? `
                                    <div class="bg-gray-700 bg-opacity-40 rounded-lg p-3 text-center">
                                        <div class="text-2xl mb-1">ğŸ“Š</div>
                                        <div class="text-xs text-gray-400 mb-1">Oran</div>
                                        <div class="text-white font-semibold text-sm">${bet.odds}</div>
                                    </div>
                                ` : ''}
                                ${bet.status !== 'pending' ? `
                                    <div class="bg-gray-700 bg-opacity-40 rounded-lg p-3 text-center">
                                        <div class="text-2xl mb-1">${bet.profitLoss >= 0 ? 'ğŸ“ˆ' : 'ğŸ“‰'}</div>
                                        <div class="text-xs text-gray-400 mb-1">Kar/Zarar</div>
                                        <div class="font-semibold text-sm ${profitColor}">${bet.profitLoss >= 0 ? '+' : ''}${bet.profitLoss.toFixed(2)} â‚º</div>
                                    </div>
                                ` : ''}
                            </div>
                            
                            ${bet.image ? `
                                <div class="bg-gray-700 bg-opacity-40 rounded-lg p-3">
                                    <div class="text-xs text-gray-400 mb-2">Kupon Resmi</div>
                                    <img src="${bet.image}" alt="Bahis kuponu" class="w-full max-h-32 object-contain rounded cursor-pointer" onclick="showImageModal('${bet.image}')">
                                </div>
                            ` : ''}
                            
                            <div class="flex space-x-2 pt-2">
                                ${actionButtons}
                                <button onclick="deleteBet(${bet.id})" class="px-4 py-2 bg-red-600 text-white text-sm rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center">
                                    <span>ğŸ—‘ï¸</span>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');

            // Render pagination
            renderPagination(totalPages);
        }

        function renderPagination(totalPages) {
            const paginationContainer = document.getElementById('pagination-container');
            if (!paginationContainer || totalPages <= 1) {
                if (paginationContainer) paginationContainer.innerHTML = '';
                return;
            }

            let paginationHTML = '';

            // Previous button
            paginationHTML += `
                <button class="pagination-btn ${currentPage === 1 ? 'opacity-50 cursor-not-allowed' : ''}" 
                        onclick="changePage(${currentPage - 1})" ${currentPage === 1 ? 'disabled' : ''}>
                    â†
                </button>
            `;

            // Page numbers
            const startPage = Math.max(1, currentPage - 2);
            const endPage = Math.min(totalPages, currentPage + 2);

            if (startPage > 1) {
                paginationHTML += `<button class="pagination-btn" onclick="changePage(1)">1</button>`;
                if (startPage > 2) {
                    paginationHTML += `<span class="text-gray-400">...</span>`;
                }
            }

            for (let i = startPage; i <= endPage; i++) {
                paginationHTML += `
                    <button class="pagination-btn ${i === currentPage ? 'active' : ''}" onclick="changePage(${i})">
                        ${i}
                    </button>
                `;
            }

            if (endPage < totalPages) {
                if (endPage < totalPages - 1) {
                    paginationHTML += `<span class="text-gray-400">...</span>`;
                }
                paginationHTML += `<button class="pagination-btn" onclick="changePage(${totalPages})">${totalPages}</button>`;
            }

            // Next button
            paginationHTML += `
                <button class="pagination-btn ${currentPage === totalPages ? 'opacity-50 cursor-not-allowed' : ''}" 
                        onclick="changePage(${currentPage + 1})" ${currentPage === totalPages ? 'disabled' : ''}>
                    â†’
                </button>
            `;

            paginationContainer.innerHTML = paginationHTML;
        }

        // Global functions for button clicks
        window.markAsWon = function(id) {
            const bet = bets.find(b => b.id === id);
            if (!bet) return;
            
            const expectedWin = bet.betAmount * bet.odds;
            bet.status = 'won';
            bet.winAmount = expectedWin;
            bet.profitLoss = expectedWin - bet.betAmount;
            
            saveData();
            updateStats();
            renderHistory();
            renderRecentBets();
            
            showNotification(`ğŸ‰ Tebrikler! +${bet.profitLoss.toFixed(2)} â‚º kazandÄ±nÄ±z!`, 'success');
        };

        window.markAsLost = function(id) {
            const bet = bets.find(b => b.id === id);
            if (!bet) return;
            
            bet.status = 'lost';
            bet.winAmount = 0;
            bet.profitLoss = -bet.betAmount;
            
            saveData();
            updateStats();
            renderHistory();
            renderRecentBets();
            
            showNotification(`ğŸ˜” Bahis kaybedildi: ${bet.profitLoss.toFixed(2)} â‚º`, 'error');
        };

        window.deleteBet = function(id) {
            if (confirm('Bu bahisi silmek istediÄŸinizden emin misiniz?')) {
                bets = bets.filter(bet => bet.id !== id);
                saveData();
                updateStats();
                renderHistory();
                renderRecentBets();
                showNotification('ğŸ—‘ï¸ Bahis silindi', 'error');
            }
        };

        window.changePage = function(page) {
            const statusFilter = document.getElementById('status-filter');
            let filteredBets = bets;
            
            if (statusFilter && statusFilter.value !== 'all') {
                filteredBets = filteredBets.filter(bet => bet.status === statusFilter.value);
            }
            
            const totalPages = Math.ceil(filteredBets.length / itemsPerPage);
            
            if (page >= 1 && page <= totalPages) {
                currentPage = page;
                renderHistory();
            }
        };

        window.openEditModal = openEditModal;
        window.showImageModal = showImageModal;
        window.removeCustomPlatform = removeCustomPlatform;
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9755e135a298dc33',t:'MTc1NjIzODA1Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
