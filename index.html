<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kasamatik - Gemini & Supabase Destekli Bahis Takibi</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <script>
      window.si = window.si || function () { (window.si.q = window.si.q || []).push(arguments); };
    </script>
    <script src="/_vercel/speed-insights/script.js"></script>
    
    <link rel="stylesheet" href="src/css/style.css">
</head>
<body class="text-white">

    <div id="auth-container">
        <div class="glass-card rounded-2xl p-8 w-full max-w-sm">
            <div class="text-center mb-8">
                <img src="assets/logo.png" alt="Kasamatik Logo" class="mx-auto h-16 w-auto mb-4">
                <p class="text-gray-400">Akıllı Bahis Takibi</p>
            </div>
            <form id="auth-form" class="space-y-6">
                <div>
                    <label for="email" class="block text-gray-300 text-sm font-medium mb-2">E-posta</label>
                    <input type="email" id="email" required class="input-glass w-full p-3 rounded-lg text-gray-800" placeholder="ornek@mail.com">
                </div>
                <div>
                    <label for="password" class="block text-gray-300 text-sm font-medium mb-2">Şifre</label>
                    <input type="password" id="password" required class="input-glass w-full p-3 rounded-lg text-gray-800" placeholder="••••••••">
                </div>
                <div class="flex items-center justify-between gap-4 pt-2">
                    <button type="button" id="login-btn" class="gradient-button w-full py-3 rounded-lg">Giriş Yap</button>
                    <button type="button" id="signup-btn" class="w-full py-3 rounded-lg bg-gray-600 hover:bg-gray-700">Kayıt Ol</button>
                </div>
                <div class="text-center mt-4">
                    <a href="#" id="forgot-password-link" class="text-sm text-gray-400 hover:text-primary-blue">Şifremi Unuttum</a>
                </div>
            </form>

            <div id="signup-success-message" class="hidden text-center">
                <div class="text-6xl mb-4">✅</div>
                <h2 class="text-xl font-bold text-white mb-2">Kayıt Başarılı!</h2>
                <p class="text-gray-300">Giriş yapabilmek için lütfen <strong id="user-email-confirm" class="text-white">e-posta adresinize</strong> gönderdiğimiz doğrulama linkine tıklayın.</p>
            </div>
        </div>
    </div>
    
    <div id="password-reset-modal" class="fixed inset-0 bg-black bg-opacity-75 hidden items-center justify-center z-50 p-4">
        <div class="glass-card rounded-2xl p-8 w-full max-w-sm">
            <h2 class="font-montserrat font-bold text-2xl gradient-text mb-6 text-center">Şifre Sıfırla</h2>
            <p class="text-gray-400 text-center mb-6 text-sm">Hesabınıza ait e-posta adresini girin, size sıfırlama linki gönderelim.</p>
            <form id="password-reset-form" class="space-y-6">
                <div>
                    <label for="reset-email" class="block text-gray-300 text-sm font-medium mb-2">E-posta</label>
                    <input type="email" id="reset-email" required class="input-glass w-full p-3 rounded-lg text-gray-800" placeholder="ornek@mail.com">
                </div>
                <div class="flex items-center justify-between gap-4 pt-2">
                    <button type="button" id="cancel-reset-btn" class="w-full py-3 rounded-lg bg-gray-600 hover:bg-gray-700">İptal</button>
                    <button type="submit" id="send-reset-btn" class="gradient-button w-full py-3 rounded-lg">Gönder</button>
                </div>
            </form>
        </div>
    </div>

    <div id="ad-popup-modal" class="fixed inset-0 bg-black bg-opacity-75 hidden items-center justify-center z-[1001] p-4">
        <div class="glass-card rounded-2xl p-4 w-full max-w-md relative">
            <button id="close-ad-popup-btn" class="absolute -top-3 -right-3 w-8 h-8 rounded-full bg-red-600 text-white flex items-center justify-center text-lg font-bold z-10">&times;</button>
            <a id="ad-popup-link" href="#" target="_blank" rel="noopener noreferrer" class="block">
                <img id="ad-popup-image" src="" alt="Reklam" class="rounded-xl w-full">
            </a>
        </div>
    </div>

    <div id="app-container" style="display: none;">
        <button id="mobile-menu-toggle" class="mobile-menu-toggle">
            <span class="text-xl">☰</span>
        </button>

        <div class="sidebar" id="sidebar">
            <div class="p-6 border-b border-white border-opacity-10 flex-shrink-0">
                <div class="flex items-center space-x-3">
                    <img src="assets/logo.png" alt="Kasamatik Logo" class="h-10 w-auto">
                    <div class="sidebar-text">
                        <p class="text-xs text-gray-400" id="user-email-display"></p>
                    </div>
                </div>
            </div>
            
            <nav class="mt-6 flex-grow overflow-y-auto">
                <div class="sidebar-item active" data-section="dashboard">
                    <span class="sidebar-icon">🏠</span>
                    <span class="sidebar-text">Ana Panel</span>
                </div>
                <div class="sidebar-item" data-section="new-bet">
                    <span class="sidebar-icon">➕</span>
                    <span class="sidebar-text">Yeni Kayıt</span>
                </div>
                <div class="sidebar-item" data-section="history">
                    <span class="sidebar-icon">📋</span>
                    <span class="sidebar-text">Bahis Geçmişi</span>
                </div>
                <div class="sidebar-item" data-section="cash-history">
                    <span class="sidebar-icon">💰</span>
                    <span class="sidebar-text">Kasa Geçmişi</span>
                </div>
                <div class="sidebar-item" data-section="statistics">
                    <span class="sidebar-icon">📊</span>
                    <span class="sidebar-text">İstatistikler</span>
                </div>
                <div class="sidebar-item" data-section="guide">
                    <span class="sidebar-icon">📖</span>
                    <span class="sidebar-text">Rehber</span>
                </div>
                <div class="sidebar-item" data-section="sponsors_page">
                    <span class="sidebar-icon">🏆</span>
                    <span class="sidebar-text">Sponsorlar</span>
                </div>
                <div class="sidebar-item" data-section="settings">
                    <span class="sidebar-icon">⚙️</span>
                    <span class="sidebar-text">Ayarlar</span>
                </div>
            </nav>
            
            <div class="p-6 flex-shrink-0">
                 <button id="logout-btn" class="w-full sidebar-item justify-center mb-2 bg-red-800/80 hover:bg-red-700/80">
                    <span class="sidebar-icon">🚪</span>
                    <span class="sidebar-text">Çıkış Yap</span>
                </button>
                <button id="sidebar-toggle" class="w-full sidebar-item justify-center">
                    <span class="sidebar-icon">↔️</span>
                    <span class="sidebar-text">Daralt</span>
                </button>
                <div class="text-center mt-2">
                    <p class="text-xs text-gray-500 sidebar-text">v2.8</p>
                </div>
            </div>
        </div>

        <div class="main-content" id="main-content">
            <div id="notifications" class="fixed top-4 right-4 z-50 space-y-2"></div>
    
            <div id="dashboard" class="page-section active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-12 h-12 rounded-full bg-gradient-to-r from-yellow-400 to-orange-500 flex items-center justify-center text-xl">
                                    💰
                                </div>
                                <div>
                                    <h3 class="text-gray-300 font-medium text-sm">Toplam Kasa</h3>
                                    <p class="text-2xl font-montserrat font-bold text-white" id="total-bankroll">0 ₺</p>
                                </div>
                            </div>
                        </div>
                        <div class="text-xs text-gray-400">Mevcut bakiye</div>
                    </div>
    
                    <div class="stat-card">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-12 h-12 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 flex items-center justify-center text-xl">
                                    📈
                                </div>
                                <div>
                                    <h3 class="text-gray-300 font-medium text-sm">Net Kar/Zarar</h3>
                                    <p class="text-2xl font-montserrat font-bold" id="dashboard-net-profit">0 ₺</p>
                                </div>
                            </div>
                        </div>
                        <div class="text-xs text-gray-400">Bahislerden elde edilen net sonuç</div>
                    </div>
    
                    <div class="stat-card">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-12 h-12 rounded-full bg-gradient-to-r from-red-400 to-red-600 flex items-center justify-center text-xl">
                                    💸
                                </div>
                                <div>
                                    <h3 class="text-gray-300 font-medium text-sm">Toplam Yatırım</h3>
                                    <p class="text-2xl font-montserrat font-bold text-white" id="dashboard-total-staked">0 ₺</p>
                                </div>
                            </div>
                        </div>
                        <div class="text-xs text-gray-400">Oynanan toplam bahis miktarı</div>
                    </div>
    
                    <div class="stat-card">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-12 h-12 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center text-xl">
                                    🎲
                                </div>
                                <div>
                                    <h3 class="text-gray-300 font-medium text-sm">Toplam Bahis</h3>
                                    <p class="text-2xl font-montserrat font-bold text-white" id="total-bets">0</p>
                                </div>
                            </div>
                        </div>
                        <div class="text-xs text-gray-400">Bahis sayısı</div>
                    </div>

                    <div class="stat-card">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="w-12 h-12 rounded-full bg-gradient-to-r from-teal-400 to-cyan-500 flex items-center justify-center text-xl">
                                    👀
                                </div>
                                <div>
                                    <h3 class="text-gray-300 font-medium text-sm">Anlık Ziyaretçi</h3>
                                    <p class="text-2xl font-montserrat font-bold text-white" id="visitor-counter">1257</p>
                                </div>
                            </div>
                        </div>
                        <div class="text-xs text-gray-400">Sitemizdeki aktif kullanıcı sayısı</div>
                    </div>
                </div>
    
                <div class="dashboard-grid">
                    <div class="glass-card rounded-2xl p-6">
                        <h3 class="text-lg font-montserrat font-bold gradient-text mb-4">⚡ Hızlı İşlemler</h3>
                        <div class="space-y-3">
                            <button id="quick-add-btn" class="gradient-button w-full py-3 rounded-lg text-white font-medium">
                                🚀 Hızlı Bahis Ekle
                            </button>
                            <button id="cash-transaction-btn" class="gradient-button w-full py-3 rounded-lg text-white font-medium">
                                💸 Para Yatır / Çek
                            </button>
                        </div>
                    </div>
                    
                    <div class="glass-card rounded-2xl p-6">
                        <h3 class="text-lg font-montserrat font-bold gradient-text mb-4">🚀 Hızlı Başlangıç</h3>
                        <div class="space-y-3 text-sm">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">1️⃣</span>
                                <p class="text-gray-300">"💸 Para Yatır / Çek" ile kasanı oluştur.</p>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">2️⃣</span>
                                <p class="text-gray-300">"➕ Yeni Kayıt" ile ilk bahsini ekle.</p>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">3️⃣</span>
                                <p class="text-gray-300">"📊 İstatistikler" ile performansını izle.</p>
                            </div>
                             <div class="flex items-center space-x-3">
                                <span class="text-2xl">4️⃣</span>
                                <p class="text-gray-300">"⚙️ Ayarlar" menüsünden platformlarını ekle.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="dashboard-ad-banner" class="mb-6"></div>
    
                <div class="glass-card rounded-2xl p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-montserrat font-bold gradient-text">📋 Son Bahisler</h3>
                        <button id="show-history-btn" class="text-blue-400 hover:text-blue-300 text-sm">
                            Tümünü Gör →
                        </button>
                    </div>
                    <div id="recent-bets" class="space-y-3">
                    </div>
                </div>
            </div>
    
            <div id="new-bet" class="page-section">
                <div class="form-card">
                    <h2 class="text-2xl font-montserrat font-bold gradient-text mb-6">
                        ➕ Yeni Bahis Kaydı
                    </h2>
                    
                    <form id="bet-form" class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-gray-300 text-sm font-medium mb-2">Platform</label>
                                <div class="flex space-x-2">
                                    <select id="platform" required class="input-glass flex-1 p-3 rounded-lg text-gray-800">
                                        <option value="">Platform Seçin</option>
                                    </select>
                                    <button type="button" id="platform-manager-btn" class="gradient-button px-4 py-3 rounded-lg text-white">
                                        ⚙️
                                    </button>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-300 text-sm font-medium mb-2">Bahis Türü</label>
                                <select id="bet-type" required class="input-glass w-full p-3 rounded-lg text-gray-800">
                                    <option value="Spor Bahis" selected>Spor Bahis</option>
                                    <option value="Canlı Bahis">Canlı Bahis</option>
                                </select>
                            </div>
                        </div>
    
                        <div class="space-y-6">
                            <div>
                                <label class="block text-gray-300 text-sm font-medium mb-2">Bahis Açıklaması</label>
                                <input type="text" id="description" placeholder="Örn: Galatasaray - Fenerbahçe (1)" 
                                       class="input-glass w-full p-3 rounded-lg text-gray-800">
                            </div>
    
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                <div>
                                    <label class="block text-gray-300 text-sm font-medium mb-2">Bahis Miktarı (₺)</label>
                                    <input type="number" id="bet-amount" min="0" step="0.01" placeholder="100"
                                           class="input-glass w-full p-3 rounded-lg text-gray-800">
                                </div>
                                
                                <div>
                                    <label class="block text-gray-300 text-sm font-medium mb-2">Oran</label>
                                    <input type="number" id="odds" min="1" step="0.01" placeholder="2.50"
                                           class="input-glass w-full p-3 rounded-lg text-gray-800">
                                </div>
                                
                                <div>
                                    <label class="block text-gray-300 text-sm font-medium mb-2">Tarih</label>
                                    <input type="date" id="bet-date" 
                                           class="input-glass w-full p-3 rounded-lg text-gray-800">
                                </div>
                            </div>
                        </div>
    
                        <div class="image-upload-area rounded-lg p-6 text-center mb-6 border-2 border-dashed border-gray-600" id="image-upload-area">
                            <div id="upload-area" class="space-y-3 flex flex-col items-center">
                                <div class="text-4xl">📸</div>
                                <p class="font-bold text-white">Önce Kuponunu Yükle, Zaman Kazan!</p>
                                <p class="text-gray-300">Bahis kuponu resmini buraya sürükleyin veya Ctrl+V ile yapıştırın</p>
                                <input type="file" id="image-input" accept="image/*" class="hidden">
                                <button type="button" id="image-select-btn" class="gradient-button px-6 py-3 rounded-lg text-white">
                                    📁 Dosya Seç
                                </button>
                            </div>
                            <div id="image-preview" class="hidden mt-4">
                                <img id="preview-img" class="max-w-full max-h-48 mx-auto rounded-lg">
                                <div class="mt-3 flex justify-center items-center gap-x-4">
                                    <button type="button" id="remove-image-btn" class="px-4 py-2 bg-red-600 text-white rounded-lg">
                                        🗑️ Resmi Kaldır
                                    </button>
                                    <button type="button" id="gemini-analyze-btn" class="gradient-button px-4 py-2 rounded-lg text-white flex items-center gap-x-2" disabled>
                                        <span id="gemini-button-icon">✨</span>
                                        <span id="gemini-button-text">Kuponu Oku</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex justify-end space-x-4 pt-6">
                            <button type="button" id="reset-form-btn" class="px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors">
                                Temizle
                            </button>
                            <button type="submit" class="gradient-button px-8 py-3 rounded-lg text-white font-medium">
                                Bahis Ekle
                            </button>
                        </div>
                    </form>
                </div>
            </div>
    
            <div id="history" class="page-section">
                <div class="mb-8">
                    <div class="flex flex-col md:flex-row md:justify-between md:items-center mb-6">
                        <div>
                            <h2 class="text-3xl font-montserrat font-bold gradient-text mb-2">📋 Bahis Geçmişi</h2>
                            <p class="text-gray-400 text-sm">Tüm bahis kayıtlarınızı görüntüleyin ve yönetin</p>
                        </div>
                    </div>
                    
                    <div class="glass-card rounded-2xl p-6 mb-8">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 items-end">
                            <div class="lg:col-span-2">
                                <label class="block text-gray-300 text-sm font-medium mb-2">Hızlı Tarih</label>
                                <div class="flex space-x-2">
                                    <button data-action="set-date-filter" data-range="today" class="date-filter-btn flex-1">Bugün</button>
                                    <button data-action="set-date-filter" data-range="last7" class="date-filter-btn flex-1">Son 7 Gün</button>
                                    <button data-action="set-date-filter" data-range="last30" class="date-filter-btn flex-1">Son 30 Gün</button>
                                    <button data-action="set-date-filter" data-range="all" class="date-filter-btn flex-1 active">Tümü</button>
                                </div>
                            </div>
                            <div>
                                <label for="start-date-filter" class="block text-gray-300 text-sm font-medium mb-2">Başlangıç Tarihi</label>
                                <input type="date" id="start-date-filter" class="input-glass w-full p-3 rounded-lg text-gray-800">
                            </div>
                            <div>
                                <label for="end-date-filter" class="block text-gray-300 text-sm font-medium mb-2">Bitiş Tarihi</label>
                                <input type="date" id="end-date-filter" class="input-glass w-full p-3 rounded-lg text-gray-800">
                            </div>
                            <div>
                                <label for="platform-filter" class="block text-gray-300 text-sm font-medium mb-2">Platform</label>
                                <select id="platform-filter" class="input-glass w-full p-3 rounded-lg text-gray-800">
                                    <option value="all">Tüm Platformlar</option>
                                </select>
                            </div>
                            <div>
                                <label for="status-filter" class="block text-gray-300 text-sm font-medium mb-2">Durum</label>
                                <select id="status-filter" class="input-glass w-full p-3 rounded-lg text-gray-800">
                                    <option value="all">Tümü</option>
                                    <option value="pending">⏳ Bekleyen</option>
                                    <option value="won">✅ Kazanan</option>
                                    <option value="lost">❌ Kaybeden</option>
                                </select>
                            </div>
                            <div class="lg:col-span-2">
                                <label for="search-filter" class="block text-gray-300 text-sm font-medium mb-2">Açıklama Ara</label>
                                <input type="text" id="search-filter" placeholder="Maç, bahis türü vb. ara..." class="input-glass w-full p-3 rounded-lg text-gray-800">
                            </div>
                        </div>

                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4" id="history-summary-cards">
                        </div>
                    </div>
                    
                    <div id="bet-history">
                    </div>
                    
                    <div id="pagination-container" class="pagination">
                    </div>
                </div>
            </div>
    
            <div id="cash-history" class="page-section">
                <div class="mb-8">
                    <div class="flex flex-col md:flex-row md:justify-between md:items-center mb-6 space-y-4 md:space-y-0">
                        <div>
                            <h2 class="text-3xl font-montserrat font-bold gradient-text mb-2">💰 Kasa Geçmişi</h2>
                            <p class="text-gray-400 text-sm">Tüm para yatırma ve çekme işlemleriniz</p>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                        <div class="glass-card rounded-xl p-4 text-center">
                            <div class="text-2xl mb-1 text-green-400" id="cash-history-deposit">0 ₺</div>
                            <div class="text-xs text-gray-400">Toplam Yatırım</div>
                        </div>
                        <div class="glass-card rounded-xl p-4 text-center">
                            <div class="text-2xl mb-1 text-red-400" id="cash-history-withdrawal">0 ₺</div>
                            <div class="text-xs text-gray-400">Toplam Çekim</div>
                        </div>
                        <div class="glass-card rounded-xl p-4 text-center">
                            <div class="text-2xl mb-1" id="cash-history-net">0 ₺</div>
                            <div class="text-xs text-gray-400">Net Bakiye</div>
                        </div>
                         <div class="glass-card rounded-xl p-4 text-center">
                            <div class="text-2xl mb-1" id="cash-history-count">0</div>
                            <div class="text-xs text-gray-400">Toplam İşlem</div>
                        </div>
                    </div>
                    
                    <div id="cash-history-list">
                    </div>
                    
                    <div id="cash-pagination-container" class="pagination">
                    </div>
                </div>
            </div>
    
            <div id="statistics" class="page-section">
                <div class="mb-8">
                    <h2 class="text-3xl font-montserrat font-bold gradient-text mb-6">📊 İstatistikler</h2>

                    <div class="glass-card rounded-2xl p-6 mb-8">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end">
                            <div class="lg:col-span-2">
                                <label class="block text-gray-300 text-sm font-medium mb-2">Hızlı Tarih</label>
                                <div class="flex space-x-2">
                                    <button data-action="set-stats-date-filter" data-range="today" class="stats-date-filter-btn flex-1">Bugün</button>
                                    <button data-action="set-stats-date-filter" data-range="last7" class="stats-date-filter-btn flex-1">Son 7 Gün</button>
                                    <button data-action="set-stats-date-filter" data-range="last30" class="stats-date-filter-btn flex-1">Son 30 Gün</button>
                                    <button data-action="set-stats-date-filter" data-range="all" class="stats-date-filter-btn flex-1 active">Tümü</button>
                                </div>
                            </div>
                            <div>
                                <label for="stats-start-date-filter" class="block text-gray-300 text-sm font-medium mb-2">Başlangıç Tarihi</label>
                                <input type="date" id="stats-start-date-filter" class="input-glass w-full p-3 rounded-lg text-gray-800">
                            </div>
                            <div>
                                <label for="stats-end-date-filter" class="block text-gray-300 text-sm font-medium mb-2">Bitiş Tarihi</label>
                                <input type="date" id="stats-end-date-filter" class="input-glass w-full p-3 rounded-lg text-gray-800">
                            </div>
                        </div>
                    </div>
                    
                    <div class="stats-grid mb-8">
                        <div class="stat-card">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-12 h-12 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center text-xl">
                                        🎯
                                    </div>
                                    <div>
                                        <h3 class="text-gray-300 font-medium text-sm">Toplam Bahis</h3>
                                        <p class="text-2xl font-montserrat font-bold text-white" id="stats-total-bets">0</p>
                                    </div>
                                </div>
                            </div>
                            <div class="text-xs text-gray-400">Kasa işlemleri hariç toplam bahis sayısı</div>
                            <div class="mt-2 text-xs text-blue-300" id="stats-bet-breakdown">Spor: 0 | Canlı: 0</div>
                        </div>
    
                        <div class="stat-card">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-12 h-12 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 flex items-center justify-center text-xl">
                                        ✅
                                    </div>
                                    <div>
                                        <h3 class="text-gray-300 font-medium text-sm">Kazanma Oranı</h3>
                                        <p class="text-2xl font-montserrat font-bold text-green-400" id="stats-win-rate">0%</p>
                                    </div>
                                </div>
                            </div>
                            <div class="text-xs text-gray-400">Sonuçlanan bahislerdeki başarı oranı</div>
                            <div class="mt-2 text-xs text-green-300" id="stats-win-breakdown">Kazanan: 0 | Kaybeden: 0</div>
                        </div>
    
                        <div class="stat-card">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-12 h-12 rounded-full bg-gradient-to-r from-yellow-400 to-orange-500 flex items-center justify-center text-xl">
                                        📊
                                    </div>
                                    <div>
                                        <h3 class="text-gray-300 font-medium text-sm">Ortalama Oran</h3>
                                        <p class="text-2xl font-montserrat font-bold text-yellow-400" id="stats-avg-odds">0.00</p>
                                    </div>
                                </div>
                            </div>
                            <div class="text-xs text-gray-400">Spor bahislerinin ortalama oranı</div>
                            <div class="mt-2 text-xs text-yellow-300" id="stats-odds-range">En düşük: 0.00 | En yüksek: 0.00</div>
                        </div>
    
                        <div class="stat-card">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-12 h-12 rounded-full bg-gradient-to-r from-purple-400 to-pink-500 flex items-center justify-center text-xl">
                                        💹
                                    </div>
                                    <div>
                                        <h3 class="text-gray-300 font-medium text-sm">ROI</h3>
                                        <p class="text-2xl font-montserrat font-bold" id="stats-roi">0%</p>
                                    </div>
                                </div>
                            </div>
                            <div class="text-xs text-gray-400">Yatırım getirisi (Net kar / Toplam yatırım)</div>
                            <div class="mt-2 text-xs" id="stats-roi-breakdown">Yatırım: 0₺ | Net kar: 0₺</div>
                        </div>
    
                        <div class="stat-card">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-12 h-12 rounded-full bg-gradient-to-r from-indigo-400 to-blue-500 flex items-center justify-center text-xl">
                                        📈
                                    </div>
                                    <div>
                                        <h3 class="text-gray-300 font-medium text-sm">Ortalama Bahis</h3>
                                        <p class="text-2xl font-montserrat font-bold text-blue-400" id="stats-avg-bet">0₺</p>
                                    </div>
                                </div>
                            </div>
                            <div class="text-xs text-gray-400">Bahis başına ortalama yatırım miktarı</div>
                            <div class="mt-2 text-xs text-blue-300" id="stats-bet-range">En düşük: 0₺ | En yüksek: 0₺</div>
                        </div>
    
                        <div class="stat-card">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-12 h-12 rounded-full bg-gradient-to-r from-teal-400 to-cyan-500 flex items-center justify-center text-xl">
                                        🏆
                                    </div>
                                    <div>
                                        <h3 class="text-gray-300 font-medium text-sm">En İyi Platform</h3>
                                        <p class="text-lg font-montserrat font-bold text-teal-400" id="stats-best-platform">-</p>
                                    </div>
                                </div>
                            </div>
                            <div class="text-xs text-gray-400">En çok kar getiren platform</div>
                            <div class="mt-2 text-xs text-teal-300" id="stats-platform-profit">Kar: 0₺</div>
                        </div>
                    </div>
    
                    <div class="dashboard-grid">
                        <div class="glass-card rounded-2xl p-6">
                            <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">📈 Kar/Zarar Trendi</h3>
                            <div style="height: 300px;">
                                <canvas id="profitChart"></canvas>
                            </div>
                        </div>
    
                        <div class="glass-card rounded-2xl p-6">
                            <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">🏢 Platform Dağılımı</h3>
                            <div style="height: 300px;">
                                <canvas id="platformChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    
            <div id="guide" class="page-section">
                <div class="mb-8">
                    <h2 class="text-3xl font-montserrat font-bold gradient-text mb-6">📖 Kullanım Rehberi</h2>
                    
                    <div class="glass-card rounded-2xl p-6 mb-8">
                        <div class="flex items-center space-x-3 mb-4">
                            <div class="w-12 h-12 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 flex items-center justify-center text-xl">
                                🆕
                            </div>
                            <div>
                                <h3 class="text-xl font-montserrat font-bold gradient-text">Yeni Güncelleme v2.0</h3>
                                <p class="text-gray-400 text-sm">Supabase Entegrasyonu ve Kullanıcı Hesapları</p>
                            </div>
                        </div>
                        <div class="space-y-3">
                            <div class="flex items-start space-x-3">
                                <span class="text-green-400 text-lg">☁️</span>
                                <div>
                                    <h4 class="text-white font-medium">Bulut Veritabanı</h4>
                                    <p class="text-gray-400 text-sm">Tüm verileriniz artık güvenli Supabase veritabanında saklanıyor.</p>
                                </div>
                            </div>
                             <div class="flex items-start space-x-3">
                                <span class="text-blue-400 text-lg">👤</span>
                                <div>
                                    <h4 class="text-white font-medium">Kullanıcı Hesapları</h4>
                                    <p class="text-gray-400 text-sm">Artık kayıt olup giriş yapabilir, verilerinize her yerden ulaşabilirsiniz.</p>
                                </div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <span class="text-purple-400 text-lg">🔐</span>
                                <div>
                                    <h4 class="text-white font-medium">Güvenlik</h4>
                                    <p class="text-gray-400 text-sm">Her kullanıcı sadece kendi verilerini görebilir ve yönetebilir.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="sponsors_page" class="page-section">
                <h2 class="text-3xl font-montserrat font-bold gradient-text mb-6">🏆 Sponsorlarımız</h2>
                <p class="text-gray-400 mb-8">Projeye destek veren değerli sponsorlarımız.</p>
                <div id="sponsors-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    </div>
            </div>
    
            <div id="settings" class="page-section">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="glass-card rounded-2xl p-6">
                        <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">🔑 Hesap Yönetimi</h3>
                        <form id="account-settings-form" class="space-y-4">
                            <div>
                                <label for="new-password" class="block text-gray-300 text-sm font-medium mb-2">Yeni Şifre</label>
                                <input type="password" id="new-password" placeholder="••••••••" class="input-glass w-full p-3 rounded-lg text-gray-800">
                            </div>
                            <div>
                                <label for="confirm-password" class="block text-gray-300 text-sm font-medium mb-2">Yeni Şifreyi Onayla</label>
                                <input type="password" id="confirm-password" placeholder="••••••••" class="input-glass w-full p-3 rounded-lg text-gray-800">
                            </div>
                            <div class="pt-2">
                                <button type="submit" id="update-password-btn" class="gradient-button w-full py-3 rounded-lg text-white">
                                    Şifreyi Güncelle
                                </button>
                            </div>
                        </form>
                    </div>

                    <div class="glass-card rounded-2xl p-6">
                        <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">🏢 Platform Yönetimi</h3>
                        <div class="space-y-4">
                            <div class="flex space-x-2">
                                <input type="text" id="new-platform-name" placeholder="Platform adı" 
                                       class="input-glass flex-1 p-3 rounded-lg text-gray-800">
                                <button id="add-platform-btn" class="gradient-button px-4 py-3 rounded-lg text-white">
                                    ➕
                                </button>
                            </div>
                            <div id="custom-platforms-list" class="space-y-2 max-h-48 overflow-y-auto">
                            </div>
                        </div>
                    </div>
    
                    <div class="glass-card rounded-2xl p-6">
                        <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">📊 Veri Yönetimi</h3>
                        <div class="space-y-3">
                            <button id="import-btn" class="gradient-button w-full py-3 rounded-lg text-white">
                                📥 İçe Aktar
                            </button>
                            <button id="export-btn" class="gradient-button w-full py-3 rounded-lg text-white">
                                📤 Dışa Aktar
                            </button>
                            <button id="clear-all-settings-btn" class="w-full py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors">
                                🗑️ Tüm Verileri Temizle
                            </button>
                        </div>
                    </div>
    
                    <div class="glass-card rounded-2xl p-6">
                        <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">💰 Kasa Yönetimi</h3>
                        <div class="space-y-3">
                            <button id="reset-bankroll-btn" class="w-full py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors">
                                🔄 Kasayı Sıfırla
                            </button>
                            <p class="text-xs text-gray-400">Bu işlem mevcut bakiyeyi sıfırlar ve geri alınamaz.</p>
                        </div>
                    </div>

                    <div id="sponsor-management-panel" class="glass-card rounded-2xl p-6 md:col-span-3" style="display: none;">
                        <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">🏆 Sponsor Yönetimi (Admin)</h3>
                        <form id="sponsor-form" class="space-y-4 mb-6">
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <input type="text" id="sponsor-name" placeholder="Sponsor Adı" required class="input-glass p-3 rounded-lg text-gray-800">
                                <input type="url" id="sponsor-logo-url" placeholder="Logo URL" required class="input-glass p-3 rounded-lg text-gray-800">
                                <input type="url" id="sponsor-target-url" placeholder="Hedef URL" required class="input-glass p-3 rounded-lg text-gray-800">
                            </div>
                            <button type="submit" class="gradient-button w-full py-3 rounded-lg">
                                Sponsor Ekle
                            </button>
                        </form>
                        <h4 class="text-lg font-semibold text-gray-300 mb-3">Mevcut Sponsorlar</h4>
                        <div id="sponsors-list" class="space-y-2 max-h-48 overflow-y-auto">
                        </div>
                    </div>

                    <div id="ad-management-panel" class="glass-card rounded-2xl p-6 md:col-span-3" style="display: none;">
                        <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">📢 Reklam Yönetimi (Admin)</h3>
                        <form id="ad-form" class="space-y-4 mb-6">
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <input type="url" id="ad-image-url" placeholder="Reklam Resim URL" required class="input-glass p-3 rounded-lg text-gray-800">
                                <input type="url" id="ad-target-url" placeholder="Hedef URL" required class="input-glass p-3 rounded-lg text-gray-800">
                                <select id="ad-location" required class="input-glass p-3 rounded-lg text-gray-800">
                                    <option value="">Konum Seçin</option>
                                    <option value="login_popup">Giriş Pop-up</option>
                                    <option value="dashboard_banner">Ana Panel Banner</option>
                                </select>
                            </div>
                            <button type="submit" class="gradient-button w-full py-3 rounded-lg">
                                Reklam Ekle
                            </button>
                        </form>
                        <h4 class="text-lg font-semibold text-gray-300 mb-3">Mevcut Reklamlar</h4>
                        <div id="ads-list" class="space-y-2 max-h-48 overflow-y-auto">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="floating-action" id="floating-add-btn">
            ➕
        </div>
    
        <div id="platform-manager-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-40 p-4">
            <div class="glass-card rounded-2xl p-6 w-full max-w-md">
                <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">Platform Yönetimi</h3>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-gray-300 text-sm font-medium mb-2">Yeni Platform Ekle</label>
                        <div class="flex space-x-2">
                            <input type="text" id="new-platform-name-modal" placeholder="Platform adı" 
                                   class="input-glass flex-1 p-3 rounded-lg text-gray-800">
                            <button id="add-platform-modal-btn" class="gradient-button px-4 py-3 rounded-lg text-white">
                                ➕
                            </button>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-gray-300 text-sm font-medium mb-2">Özel Platformlar</label>
                        <div id="custom-platforms-list-modal" class="space-y-2 max-h-32 overflow-y-auto">
                        </div>
                    </div>
                </div>
    
                <div class="flex justify-end space-x-3 mt-6">
                    <button id="close-platform-manager-btn" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700">
                        Kapat
                    </button>
                </div>
            </div>
        </div>
    
        <div id="cash-transaction-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-40 p-4">
            <div class="glass-card rounded-2xl p-6 w-full max-w-md">
                <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">💸 Kasa İşlemi</h3>
                <div class="space-y-4">
                     <div>
                        <label class="block text-gray-300 text-sm font-medium mb-2">Miktar (₺)</label>
                        <input type="number" id="cash-amount" required min="0" step="0.01" placeholder="1000"
                               class="input-glass w-full p-3 rounded-lg text-gray-800">
                    </div>
                    <div class="flex justify-end space-x-3 pt-2">
                        <button type="button" id="cash-transaction-close-btn" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700">
                            İptal
                        </button>
                        <button type="button" id="cash-withdrawal-btn" class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700">
                            Para Çek
                        </button>
                        <button type="button" id="cash-deposit-btn" class="gradient-button px-4 py-2 rounded-lg text-white">
                            Para Yatır
                        </button>
                    </div>
                </div>
            </div>
        </div>
    
        <div id="quick-add-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-40 p-4">
            <div class="glass-card rounded-2xl p-6 w-full max-w-md">
                <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">Hızlı Bahis Ekle</h3>
                
                <form id="quick-add-form" class="space-y-4">
                    <div>
                        <label class="block text-gray-300 text-sm font-medium mb-2">Platform</label>
                        <select id="quick-platform" required class="input-glass w-full p-3 rounded-lg text-gray-800">
                            <option value="">Platform Seçin</option>
                        </select>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gray-300 text-sm font-medium mb-2">Miktar (₺)</label>
                            <input type="number" id="quick-amount" required min="0" step="0.01" placeholder="100"
                                   class="input-glass w-full p-3 rounded-lg text-gray-800">
                        </div>
                        
                        <div>
                            <label class="block text-gray-300 text-sm font-medium mb-2">Oran</label>
                            <input type="number" id="quick-odds" required min="1" step="0.01" placeholder="2.50"
                                   class="input-glass w-full p-3 rounded-lg text-gray-800">
                        </div>
                    </div>
    
                    <div class="image-upload-area rounded-lg p-4 text-center" id="quick-image-upload-area">
                        <div id="quick-upload-area" class="space-y-2">
                            <div class="text-2xl">📸</div>
                            <p class="text-gray-300 text-sm">Kupon resmi sürükleyin veya Ctrl+V ile yapıştırın</p>
                            <input type="file" id="quick-image-input" accept="image/*" class="hidden">
                            <button type="button" id="quick-image-select-btn" class="gradient-button px-3 py-2 rounded-lg text-white text-sm">
                                📁 Seç
                            </button>
                        </div>
                        <div id="quick-image-preview" class="hidden mt-3">
                            <img id="quick-preview-img" class="max-w-full max-h-32 mx-auto rounded-lg">
                            <button type="button" id="quick-remove-image-btn" class="mt-2 px-2 py-1 bg-red-600 text-white rounded text-xs">
                                🗑️ Kaldır
                            </button>
                        </div>
                    </div>
    
                    <div class="flex justify-end space-x-3">
                        <button type="button" id="close-quick-add-btn" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700">
                            İptal
                        </button>
                        <button type="submit" class="gradient-button px-4 py-2 rounded-lg text-white">
                            Ekle
                        </button>
                    </div>
                </form>
            </div>
        </div>
    
        <div id="import-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-40 p-4">
            <div class="glass-card rounded-2xl p-6 w-full max-w-md">
                <h3 class="text-xl font-montserrat font-bold gradient-text mb-4">Veri İçe Aktarma</h3>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-gray-300 text-sm font-medium mb-2">JSON Dosyası Seç</label>
                        <input type="file" id="import-file" accept=".json" class="input-glass w-full p-3 rounded-lg text-gray-800">
                    </div>
                    
                    <div>
                        <label class="block text-gray-300 text-sm font-medium mb-2">Veya JSON Metni Yapıştır</label>
                        <textarea id="import-text" placeholder="JSON verisini buraya yapıştırın..." 
                                  class="input-glass w-full p-3 rounded-lg text-gray-800 h-32 resize-none"></textarea>
                    </div>
                    
                    <div>
                        <label class="block text-gray-300 text-sm font-medium mb-2">İçe Aktarma Modu</label>
                        <select id="import-mode" class="input-glass w-full p-3 rounded-lg text-gray-800">
                            <option value="merge">Birleştir (mevcut veriler korunur)</option>
                            <option value="replace">Değiştir (mevcut veriler silinir)</option>
                        </select>
                    </div>
                </div>
    
                <div class="flex justify-end space-x-3 mt-6">
                    <button id="close-import-btn" class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700">
                        İptal
                    </button>
                    <button id="import-data-btn" class="gradient-button px-4 py-2 rounded-lg text-white">
                        İçe Aktar
                    </button>
                </div>
            </div>
        </div>
    
        <div id="edit-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-40 p-4">
            <div class="glass-card rounded-2xl p-6 w-full max-w-lg">
                <h3 class="text-xl font-montserrat font-bold gradient-text mb-6">✏️ Bahis Düzenle</h3>
                <form id="edit-form" class="space-y-4">
                    
                    <div>
                        <label for="edit-platform" class="block text-gray-300 text-sm font-medium mb-2">Platform</label>
                        <select id="edit-platform" required class="input-glass w-full p-3 rounded-lg text-gray-800"></select>
                    </div>

                    <div>
                        <label for="edit-description" class="block text-gray-300 text-sm font-medium mb-2">Bahis Açıklaması</label>
                        <input type="text" id="edit-description" class="input-glass w-full p-3 rounded-lg text-gray-800">
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label for="edit-bet-amount" class="block text-gray-300 text-sm font-medium mb-2">Miktar (₺)</label>
                            <input type="number" id="edit-bet-amount" min="0" step="0.01" class="input-glass w-full p-3 rounded-lg text-gray-800">
                        </div>
                        <div>
                            <label for="edit-odds" class="block text-gray-300 text-sm font-medium mb-2">Oran</label>
                            <input type="number" id="edit-odds" min="1" step="0.01" class="input-glass w-full p-3 rounded-lg text-gray-800">
                        </div>
                        <div>
                            <label for="edit-date" class="block text-gray-300 text-sm font-medium mb-2">Tarih</label>
                            <input type="date" id="edit-date" class="input-glass w-full p-3 rounded-lg text-gray-800">
                        </div>
                    </div>
                    
                    <div>
                        <label for="edit-status" class="block text-gray-300 text-sm font-medium mb-2">Durum</label>
                        <select id="edit-status" class="input-glass w-full p-3 rounded-lg text-gray-800">
                            <option value="pending">⏳ Bekleyen</option>
                            <option value="won">✅ Kazandı</option>
                            <option value="lost">❌ Kaybetti</option>
                        </select>
                    </div>
                    
                    <div id="edit-win-amount-section" class="hidden">
                        <label for="edit-win-amount" class="block text-gray-300 text-sm font-medium mb-2">Kazanç Miktarı (₺)</label>
                        <input type="number" id="edit-win-amount" min="0" step="0.01" class="input-glass w-full p-3 rounded-lg text-gray-800">
                    </div>
    
                    <div class="flex justify-end space-x-3 pt-4">
                        <button type="button" id="close-edit-btn" class="px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700">
                            İptal
                        </button>
                        <button type="button" id="save-edit-btn" class="gradient-button px-8 py-3 rounded-lg text-white">
                            Kaydet
                        </button>
                    </div>
                </form>
            </div>
        </div>
    
        <div id="image-modal" class="fixed inset-0 bg-black bg-opacity-75 hidden items-center justify-center z-50 p-4">
            <div class="max-w-4xl max-h-full">
                <img id="modal-image" class="max-w-full max-h-full rounded-lg">
            </div>
        </div>
    </div>

    <script type="module" src="src/js/main.js" defer></script>
</body>
</html>
